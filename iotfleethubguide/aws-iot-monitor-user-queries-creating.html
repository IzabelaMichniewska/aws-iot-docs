<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Creating queries with filters - Fleet Hub for AWS IoT Device Management</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="assets" />
      <meta name="target_state" content="aws-iot-monitor-user-queries-creating" />
      <meta name="default_state" content="aws-iot-monitor-user-queries-creating" />
      <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/iot/latest/fleethubuserguide/aws-iot-monitor-user-queries-creating.html" />
      <meta name="description" content="Learn how to create Fleet Hub for AWS IoT Device Management queries by using filters." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="Fleet Hub for AWS IoT Device Management" />
      <meta name="guide" content="Fleet Hub for AWS IoT Device Management Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="Fleet Hub for AWS IoT Device Management enables you to build standalone web applications for monitoring the health of your device fleets. You can make these applications available to technicians in your organization, even if they don't have AWS accounts. Use Fleet Hub for AWS IoT Device Management to manage common fleet-wide tasks such as restarting devices, updating firmware, rotating expired certificates, and investigating and remediating operational and security issues." />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="IoT Docs" />
      <meta name="this_doc_product" content="Fleet Hub for AWS IoT Device Management" />
      <meta name="this_doc_guide" content="Fleet Hub for AWS IoT Device Management Guide" />
      <link href="assets/css/vendor4.css" rel="stylesheet" />
      <link href="assets/css/awsdocs-common.css" rel="stylesheet" /><script type="text/javascript" src="assets/js/vendor3.js" defer=""></script><script type="text/javascript" src="assets/js/vendor4.js" defer=""></script><script type="text/javascript" src="assets/js/vendor1.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-common.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-doc-app.js" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Creating queries with filters - Fleet Hub for AWS IoT Device Management</title>
                        <meta name="pdf" content="iotfleethub-ug.pdf#aws-iot-monitor-user-queries-creating" />
                        <meta name="github" content="https://github.com/awsdocs/aws-iot-docs/tree/master/iotfleethubguide/aws-iot-monitor-user-queries-creating.md" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=210" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT%20Docs&amp;topic_url=http://docs.aws.amazon.com/en_us/iot/latest/fleethubuserguide/aws-iot-monitor-user-queries-creating.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/fleethubuserguide/aws-iot-monitor-user-queries-creating.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/fleethubuserguide/aws-iot-monitor-user-queries-creating.html" />
                        <meta name="keywords" content="AWS IoT,Spyglass,Monitoring" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="iotfleethub-ug.pdf#aws-iot-monitor-user-queries-creating" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/aws-iot-docs/tree/master/iotfleethubguide/aws-iot-monitor-user-queries-creating.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iot/index.html">AWS IoT Core</a><a href="what-is-aws-iot-monitor.html">Fleet Hub for AWS IoT Device Management Guide</a></div>
                           <div id="page-toc-src"><a href="#aws-iot-monitor-user-queries-create">Creating queries</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-iot-monitor-user-queries-creating">Creating queries with filters</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>This topic explains how Fleet Hub for AWS IoT Device Management queries work and walks
                                    you through the steps required to create a query
                                    with filters.
                                 </p>
                                 <p>You can control the number and types of devices that display on your dashboard summary
                                    and list views by using queries. 
                                    You filter queries by using AWS-managed and custom fields from the AWS IoT fleet indexing
                                    service. If you want a field, 
                                    including a device shadow field, to appear in your dashboard, your administrator must
                                    create it as an aggregation field 
                                    in the fleet indexing service. For more information about the fleet indexing service,
                                    see <a href="https://docs.aws.amazon.com/iot/latest/developerguide/iot-indexing.html">Fleet indexing service</a>.
                                 </p>
                                 <p>You can also add keywords to your queries. Keywords apply across all searchable
                                    fields. They also count against the limit of three filters that you can apply in a
                                    single query.
                                 </p>
                                 <p>The following section describes the steps required to create a typical query.</p>
                                 
                                 <h2 id="aws-iot-monitor-user-queries-create">Creating queries</h2>
                                 
                                 <p>The following steps describe how to create a typical query.</p>
                                 
                                 <div class="itemizedlist">
                                    
                                    <p class="title"><b>Prerequisites</b></p>
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>A Fleet Hub application tied to an AWS IoT Core account that contains several
                                             devices (things)
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>An account that has permissions to use the Fleet Hub application</p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>Create your first Fleet Hub query with a filter in the console</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Navigate to your Fleet Hub application.</p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>On the default dashboard, verify that you can see the <b>Device
                                                list</b> tab and the total number of devices (things) in the
                                             associate AWS IoT Core account.
                                          </p>
                                          
                                          <div class="mediaobject">
                                              
                                             
                                          </div>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>On the default dashboard, choose the <b>Device list</b> tab.
                                             Verify that you see a list of all devices that contain the managed and
                                             custom attributes. The custom attributes contain the <b>attributes</b> prefix.
                                          </p>
                                          
                                          <div class="mediaobject">
                                              
                                             
                                          </div>
                                          
                                       </li>
                                       <li>
                                          <p>At the top of the page, enter any keyword you want to include in your query. 
                                             Keyword queries apply to all fields.
                                          </p>
                                       </li>
                                       <li>
                                          
                                          <p>At the top of the page, choose <b>Filter</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the <b>Filter</b> modal, under <b>Field</b>,
                                             choose the field that you want to use as a filter. Under
                                             <b>Operator</b>, choose an option. Finally, for
                                             <b>Value</b>, choose the field value to use in your
                                             filter.
                                          </p>
                                          
                                          <p>You can add up to three filters. A keyword query counts against this
                                             number.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>To perform your query, choose <b>Apply filters</b>. The results
                                             show all the devices that match your query.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="./aws-iot-monitor-user-queries-dashboard.html">Viewing the dashboard</div>
                                    <div id="next" class="next-link" accesskey="n" href="./aws-iot-monitor-technician-job-templates.html">Working with jobs in Fleet Hub for AWS IoT Device Management</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/fleethubuserguide/aws-iot-monitor-user-queries-creating.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/fleethubuserguide/aws-iot-monitor-user-queries-creating.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'Fleet Hub for AWS IoT Device Management';
awsdocs.prop65 =  'Fleet Hub for AWS IoT Device Management Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>
</html>