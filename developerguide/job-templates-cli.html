<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Creating and managing job templates (CLI) - AWS IoT Core</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="assets" />
      <meta name="target_state" content="job-templates-cli" />
      <meta name="default_state" content="job-templates-cli" />
      <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/iot/latest/developerguide/job-templates-cli.html" />
      <meta name="description" content="This topic explains how to create, delete, and retrieve details about job templates by using the AWS CLI." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS IoT Core" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="AWS IoT provides secure, bi-directional communication between Internet-connected devices such as sensors, actuators, embedded micro-controllers, or smart appliances and the AWS Cloud. This enables you to collect telemetry data from multiple devices, and store and analyze the data. You can also create applications that enable your users to control these devices from their phones or tablets." />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="IoT Docs" />
      <meta name="this_doc_product" content="AWS IoT Core" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="assets/css/vendor4.css" rel="stylesheet" />
      <link href="assets/css/awsdocs-common.css" rel="stylesheet" /><script type="text/javascript" src="assets/js/vendor3.js" defer=""></script><script type="text/javascript" src="assets/js/vendor4.js" defer=""></script><script type="text/javascript" src="assets/js/vendor1.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-common.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-doc-app.js" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Creating and managing job templates (CLI) - AWS IoT Core</title>
                        <meta name="pdf" content="iot-dg.pdf#job-templates-cli" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07JBRCWWZ" />
                        <meta name="github" content="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/job-templates-cli.md" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=210" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT%20Docs&amp;topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/job-templates-cli.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/job-templates-cli.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/job-templates-cli.html" />
                        <meta name="keywords" content="AWS IoT,IoT,Internet of Things" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="iot-dg.pdf#job-templates-cli" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a target="_blank" rel="noopener noreferrer" href="https://www.amazon.com/dp/B07JBRCWWZ" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/job-templates-cli.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iot/index.html">AWS IoT Core</a><a href="what-is-aws-iot.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#job-templates-cli-create-scratch">Create a job template from scratch</a><a href="#job-templates-cli-create-from-job">Create a job template from an existing job</a><a href="#job-templates-cli-describe">Get details about a job template</a><a href="#job-templates-cli-list">List job templates</a><a href="#job-templates-cli-delete">Delete a job template</a><a href="#job-templates-cli-create-job">Create a job from a job template</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="job-templates-cli">Creating and managing job templates (CLI)</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>The job templates feature is in preview and subject to change.</p>
                                    </div>
                                 </div>
                                 <p>This topic explains how to create, delete, and retrieve details about job
                                    templates by using the AWS CLI.
                                 </p>
                                 
                                 <h2 id="job-templates-cli-create-scratch">Create a job template from scratch</h2>
                                 
                                 <p>The following AWS CLI command shows how to create a job using a job document (<code class="replaceable">job-document.json</code>) stored in 
                                    an Amazon S3 bucket (<code class="replaceable">jobBucket</code>) and a role with permission to download files from Amazon S3 (<code class="replaceable">S3DownloadRole</code>).
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">
aws iot create-job-template  \
      --job-template-id 010  \
      --document-source https://s3.amazonaws.com/my-s3-bucket/job-document.json  \
      --timeout-config inProgressTimeoutInMinutes=100 \
      --job-executions-rollout-config "<span>{</span> \"exponentialRate\": <span>{</span> \"baseRatePerMinute\": 50, \"incrementFactor\": 2, \"rateIncreaseCriteria\": <span>{</span> \"numberOfNotifiedThings\": 1000, \"numberOfSucceededThings\": 1000}}, \"maximumPerMinute\": 1000}" \
      --abort-config "<span>{</span> \"criteriaList\": [ <span>{</span> \"action\": \"CANCEL\", \"failureType\": \"FAILED\", \"minNumberOfExecutedThings\": 100, \"thresholdPercentage\": 20}, <span>{</span> \"action\": \"CANCEL\", \"failureType\": \"TIMED_OUT\", \"minNumberOfExecutedThings\": 200, \"thresholdPercentage\": 50}]}" \          
      --presigned-url-config "<span>{</span>\"roleArn\":\"arn:aws:iam::123456789012:role/S3DownloadRole\", \"expiresInSec\":3600}" 
            </code></pre>
                                 <p>The optional <code class="code">timeout-config</code> parameter specifies the amount of
                                    time each device has to finish its execution of the job. The timer starts when
                                    the job execution status is set to <code class="code">IN_PROGRESS</code>. If the job
                                    execution status isn't set to another terminal state
                                     before the time expires, it's set
                                    to <code class="code">TIMED_OUT</code>.
                                 </p>
                                 
                                 <p>The in-progress timer can't be updated and applies to all job executions
                                    for the job. Whenever a job execution remains in the
                                    <code class="code">IN_PROGRESS</code> state for longer than this interval, the job
                                    execution fails and switches to the terminal <code class="code">TIMED_OUT</code> status.
                                    AWS IoT also publishes an MQTT notification.
                                 </p>
                                 
                                 
                                 <p>For more information about creating configurations about job rollouts and
                                    aborts, see <a href="job-rollout-abort.html" rel="noopener noreferrer" target="_blank">Job Rollout and Abort
                                       Configuration</a>.
                                 </p>
                                 
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>Job documents that are specified as Amazon S3 files are retrieved at the time
                                          you create the job. Changing the contents of the Amazon S3 file you used as the
                                          source of your job document after you have created the job doesn't change
                                          what is sent to the targets of the job.
                                       </p>
                                    </div>
                                 </div>
                                  
                                 
                                 <h2 id="job-templates-cli-create-from-job">Create a job template from an existing job</h2>
                                 
                                 <p>The following AWS CLI command creates a job template by specifying the Amazon
                                    Resource Name (ARN) of an existing job. The new job template uses all of the
                                    configurations specified in the job. Optionally, you can change any of the
                                    configurations in the existing job by using any of the optional
                                    parameters.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">
aws iot create-job-template  \
      --job-arn arn:aws:iot:<code class="replaceable">region</code>:123456789012:job/<code class="replaceable">job-name</code>  \      
      --timeout-config inProgressTimeoutInMinutes=100
            </code></pre>
                                  
                                 <h2 id="job-templates-cli-describe">Get details about a job template</h2>
                                 
                                 <p>The following AWS CLI command gets details about a specified job template.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">
aws iot describe-job-template \
      --job-template-id <code class="replaceable">template-id</code>
                </code></pre>
                                 <p>The command displays the following output.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
<span>{</span>
   "abortConfig": <span>{</span> 
      "criteriaList": [ 
         <span>{</span> 
            "action": "string",
            "failureType": "string",
            "minNumberOfExecutedThings": number,
            "thresholdPercentage": number
         }
      ]
   },
   "createdAt": number,
   "description": "string",
   "document": "string",
   "documentSource": "string",
   "jobExecutionsRolloutConfig": <span>{</span> 
      "exponentialRate": <span>{</span> 
         "baseRatePerMinute": number,
         "incrementFactor": number,
         "rateIncreaseCriteria": <span>{</span> 
            "numberOfNotifiedThings": number,
            "numberOfSucceededThings": number
         }
      },
      "maximumPerMinute": number
   },
   "jobTemplateArn": "string",
   "jobTemplateId": "string",
   "presignedUrlConfig": <span>{</span> 
      "expiresInSec": number,
      "roleArn": "string"
   },
   "timeoutConfig": <span>{</span> 
      "inProgressTimeoutInMinutes": number
   }
}
                </code></pre>
                                  
                                 <h2 id="job-templates-cli-list">List job templates</h2>
                                 
                                 <p>The following AWS CLI command lists all of the job templates in your AWS account.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">
 aws iot list-job-templates
                </code></pre>
                                 <p>The command displays the following output.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
<span>{</span>
   "jobTemplates": [ 
      <span>{</span> 
         "createdAt": number,
         "description": "string",
         "jobTemplateArn": "string",
         "jobTemplateId": "string"
      }
   ],
   "nextToken": "string"
}
                </code></pre>
                                 <p>Use the value of the <code class="code">nextToken</code> field to retrieve additional pages of results.
                                 </p>
                                  
                                 
                                 <h2 id="job-templates-cli-delete">Delete a job template</h2>
                                 
                                 <p>The following AWS CLI command deletes a specified job template.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">
aws iot delete-job-template \
      --job-template-id <code class="replaceable">template-id</code>
                </code></pre>
                                 <p>The command displays no output.</p>
                                  
                                 
                                 <h2 id="job-templates-cli-create-job">Create a job from a job template</h2>
                                 
                                 <p>The following AWS CLI command creates a job from a job template. It targets a
                                    device named <code class="code">thingOne</code> and specifies the Amazon Resource Name (ARN)
                                    of the job template to use as the basis for the job. You can override advanced
                                    configurations, such as timeout and cancel configurations, by passing the
                                    associated parameters of the <code class="code">create-job</code> command.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">
aws iot create-job \ 
      --targets arn:aws:iot:<code class="replaceable">region</code>:123456789012:thing/<code class="replaceable">thingOne</code>  \
      --job-template-arn arn:aws:iot:<code class="replaceable">region</code>:123456789012:jobtemplate/<code class="replaceable">template-id</code>
                </code></pre>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="./job-templates-console.html">Creating and managing job templates (console)</div>
                                    <div id="next" class="next-link" accesskey="n" href="./jobs-devices.html">Devices and jobs</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/job-templates-cli.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/job-templates-cli.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS IoT Core';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>
</html>