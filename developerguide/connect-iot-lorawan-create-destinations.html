<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Add destinations to AWS IoT Core for LoRaWAN - AWS IoT Core</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="assets" />
      <meta name="target_state" content="connect-iot-lorawan-create-destinations" />
      <meta name="default_state" content="connect-iot-lorawan-create-destinations" />
      <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/iot/latest/developerguide/connect-iot-lorawan-create-destinations.html" />
      <meta name="description" content="AWS IoT Core for LoRaWAN destinations describe the AWS IoT rule that processes a device's data for use by AWS services." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS IoT Core" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="AWS IoT provides secure, bi-directional communication between Internet-connected devices such as sensors, actuators, embedded micro-controllers, or smart appliances and the AWS Cloud. This enables you to collect telemetry data from multiple devices, and store and analyze the data. You can also create applications that enable your users to control these devices from their phones or tablets." />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="IoT Docs" />
      <meta name="this_doc_product" content="AWS IoT Core" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="assets/css/vendor4.css" rel="stylesheet" />
      <link href="assets/css/awsdocs-common.css" rel="stylesheet" /><script type="text/javascript" src="assets/js/vendor3.js" defer=""></script><script type="text/javascript" src="assets/js/vendor4.js" defer=""></script><script type="text/javascript" src="assets/js/vendor1.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-common.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-doc-app.js" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Add destinations to AWS IoT Core for LoRaWAN - AWS IoT Core</title>
                        <meta name="pdf" content="iot-dg.pdf#connect-iot-lorawan-create-destinations" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07JBRCWWZ" />
                        <meta name="github" content="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/connect-iot-lorawan-create-destinations.md" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=210" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT%20Docs&amp;topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/connect-iot-lorawan-create-destinations.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/connect-iot-lorawan-create-destinations.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/connect-iot-lorawan-create-destinations.html" />
                        <meta name="keywords" content="AWS IoT,IoT,Internet of Things" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="iot-dg.pdf#connect-iot-lorawan-create-destinations" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a target="_blank" rel="noopener noreferrer" href="https://www.amazon.com/dp/B07JBRCWWZ" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/connect-iot-lorawan-create-destinations.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iot/index.html">AWS IoT Core</a><a href="what-is-aws-iot.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#connect-iot-lorawan-create-destination-console">Add a destination 
                                 using the console</a><a href="#connect-iot-lorawan-create-destination-api">Add a
                                 destination by using the API</a><a href="#connect-iot-lorawan-create-destinations-roles">Create an IAM
                                 roles for your destinations</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="connect-iot-lorawan-create-destinations">Add destinations to
                                    AWS IoT Core for LoRaWAN
                                 </h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>AWS IoT Core for LoRaWAN destinations describe the AWS IoT rule that processes a device's
                                    data
                                    for use by AWS services.
                                 </p>
                                 <p>Because most LoRaWAN devices don't send data to AWS IoT Core for LoRaWAN in a format
                                    that
                                    can be used by AWS services, an AWS IoT rule must process it first. The AWS IoT rule
                                    contains the SQL statement that interprets the device's data and the topic rule
                                    actions that send the result of the SQL statement to the services that will use
                                    it.
                                 </p>
                                 
                                 <h2 id="connect-iot-lorawan-create-destination-console">Add a destination 
                                    using the console
                                 </h2>
                                 
                                 <p>If you're adding a wireless device using the console as described in
                                    <a href="./connect-iot-lorawan-end-devices-add.html#connect-iot-lorawan-end-device-spec-console">Add your wireless device
                                       specification to AWS IoT Core for LoRaWAN using the console</a>, after 
                                    you've already added the wireless device specification and profiles to AWS IoT Core
                                    for LoRaWAN 
                                    as described previously, you can go ahead and add a destination.
                                 </p>
                                 
                                 <p>Alternatively, you can also add an AWS IoT Core for LoRaWAN destination 
                                    from the <a href="https://console.aws.amazon.com/iot/home#/wireless/destinations" rel="noopener noreferrer" target="_blank"><span>
                                          Destinations</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> page of the AWS IoT console.
                                 </p>
                                 
                                 <p>To process a device's data, specify the following fields when creating an
                                    AWS IoT Core for LoRaWAN destination, and then choose <b>Add
                                       destination</b>.
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                               
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                           
                                          
                                          <p class="title"><b>Destination details</b></p>
                                          
                                          <p>Enter a <b>Destination name</b> and an optional 
                                             description for your destination.
                                          </p>
                                                                       
                                          
                                       </li>
                                       <li class="listitem">
                                           
                                          
                                          <p class="title"><b>Rule name</b></p>
                                          
                                          <p>The AWS IoT rule that is configured to process the device's
                                             data. Your destination will need a rule to process the messages
                                             it receives. Enter a rule name and then choose
                                             <b>Copy</b> to copy the rule name that
                                             you'll enter when creating the AWS IoT rule. You can either choose
                                             <b>Create rule</b> to create the rule now or
                                             navigate to the <a href="https://console.aws.amazon.com/iot/home#/create/rule" rel="noopener noreferrer" target="_blank"><span>
                                                   Rules</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> Hub of the AWS IoT console and create a rule
                                             with that name.
                                          </p>
                                           
                                          
                                          <p>For more information about AWS IoT rules for destinations, see <a href="./connect-iot-lorawan-destination-rules.html">Create rules to process
                                                LoRaWAN device messages</a>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                           
                                          
                                          <p class="title"><b>Role name</b></p>
                                          
                                          <p>The IAM role that gives the device's data permission to access the
                                             rule named in <b>Rule name</b>. For more information about
                                             the details that a definition requires in the role, see <a href="#connect-iot-lorawan-create-destinations-roles">Create an IAM
                                                roles for your destinations</a></p>
                                           
                                          
                                          <p>For more information about IAM roles, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html">Using IAM
                                                roles</a>.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                  
                                 
                                 <h2 id="connect-iot-lorawan-create-destination-api">Add a
                                    destination by using the API
                                 </h2>
                                 
                                 <p>The following lists describe the API actions that perform the tasks associated 
                                    with adding, updating, or deleting a destination.
                                 </p>
                                 
                                 <div class="itemizedlist">
                                    
                                    <p class="title"><b>AWS IoT Wireless API actions for service profiles</b></p>                    
                                     
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/iot-wireless/2020-11-22/apireference/API_CreateDestination.html">CreateDestination</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/iot-wireless/2020-11-22/apireference/API_GetDestination.html">GetDestination</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/iot-wireless/2020-11-22/apireference/API_ListDestinations.html">ListDestinations</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/iot-wireless/2020-11-22/apireference/API_UpdateDestination.html">
                                                UpdateDestination</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/iot-wireless/2020-11-22/apireference/API_DeleteDestination.html">DeleteDestination</a></p>
                                          
                                       </li>
                                    </ul>
                                 </div>               
                                 
                                 <p>For the complete list of the actions and data types available to create and manage
                                    AWS IoT Core for LoRaWAN resources, see the <a href="https://docs.aws.amazon.com/iot-wireless/2020-11-22/apireference/welcome.html">AWS IoT Wireless API reference</a>.
                                 </p>
                                  
                                 
                                 <p class="title"><b>How to use the AWS CLI to add a destination</b></p>                    
                                 
                                 <p>You can use the AWS CLI to add a destination by using the <a href="cli/latest/reference/iotwireless/create-destination.html" rel="noopener noreferrer" target="_blank">create-destination</a> command. The following example
                                    creates a destination.
                                 </p>  
                                            
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws iotwireless create-destination \
    --name IoTWirelessDestination \
    --expression-type RuleName \
    --expression IoTWirelessRule \
    --role-arn arn:aws:iam::123456789012:role/IoTWirelessDestinationRole</code></pre>
                                 <p>Running this command creates a destination with the specified destination name, 
                                    rule name, and role name. For information about rule and role names for 
                                    destinations, see <a href="./connect-iot-lorawan-destination-rules.html">Create rules to process
                                       LoRaWAN device messages</a> and <a href="#connect-iot-lorawan-create-destinations-roles">Create an IAM
                                       roles for your destinations</a>.
                                 </p>                    
                                 
                                 <p>For information about the CLIs that you can use, see <a href="https://docs.aws.amazon.com/cli/latest/reference/iotwireless/index.html">AWS CLI reference</a>. 
                                 </p> 
                                  
                                 
                                 <h2 id="connect-iot-lorawan-create-destinations-roles">Create an IAM
                                    roles for your destinations
                                 </h2>
                                 
                                 <p>AWS IoT Core for LoRaWAN destinations require IAM roles that give AWS IoT Core for
                                    LoRaWAN the
                                    permissions necessary to send data to the AWS IoT rule. If such a role is not
                                    already defined, you'll need to define it so that it will appear in the list of
                                    roles.
                                 </p>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To create an IAM policy for your AWS IoT Core for LoRaWAN destination role</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Open the <a href="https://console.aws.amazon.com/iam/home#/policies" rel="noopener noreferrer" target="_blank"><span>
                                                   Policies hub of the IAM console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose <b>Create policy</b>, and choose the
                                             <b>JSON</b> tab.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the editor, delete any content from the editor and paste this
                                             policy document.
                                          </p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "iot:DescribeEndpoint",
                "iot:Publish"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                                          </li>
                                       <li>
                                          
                                          <p>Choose <b>Review policy</b>, and in
                                             <b>Name</b>, enter a name for this policy. You'll need
                                             this name to use in the next procedure.
                                          </p>
                                          
                                          <p>You can also describe this policy in <b>Description</b>,
                                             if you want.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose <b>Create policy</b>.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To create an IAM role for an AWS IoT Core for LoRaWAN destination</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Open the <a href="https://console.aws.amazon.com/iam/home#/roles" rel="noopener noreferrer" target="_blank"><span> Roles
                                                   hub of the IAM console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and choose <b>Create
                                                role</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In <b>Select type of trusted entity</b>, choose
                                             <b>Another AWS account</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In <b>Account ID</b>, enter your AWS account ID, and
                                             then choose <b>Next: Permissions</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the search box, enter the name of the IAM policy that you created
                                             in the previous procedure.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the search results, check the IAM policy that you created in the
                                             previous procedure.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose <b>Next: Tags</b>, and then choose
                                             <b>Next: Review</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In <b>Role name</b>, enter the name of this role, and
                                             then choose <b>Create role</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the confirmation message, choose the name of the role you created
                                             to edit the new role.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In <b>Summary</b>, choose the <b>Trust
                                                relationships</b> tab, and then choose <b>Edit trust
                                                relationship</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In <b>Policy Document</b>, change the
                                             <code class="code">Principal</code> property to look like this example.
                                          </p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Principal": <span>{</span> 
    "Service": "iotwireless.amazonaws.com" 
},</code></pre>
                                          <p>After you change the <code class="code">Principal</code> property, the complete
                                             policy document should look like this example.
                                          </p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "iotwireless.amazonaws.com"
      },
      "Action": "sts:AssumeRole",
      "Condition": <span>{</span>}
    }
  ]
}</code></pre>
                                          </li>
                                       <li>
                                          
                                          <p>To save your changes and exit, choose <b>Update Trust
                                                Policy</b>.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 <p>With this role defined, you can find it in the list of roles when you
                                    configure your AWS IoT Core for LoRaWAN destinations.
                                 </p>
                                 
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="./connect-iot-lorawan-define-profiles.html">Add profiles to
                                       AWS IoT Core for LoRaWAN
                                    </div>
                                    <div id="next" class="next-link" accesskey="n" href="./connect-iot-lorawan-destination-rules.html">Create rules to process
                                       LoRaWAN device messages
                                    </div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/connect-iot-lorawan-create-destinations.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/connect-iot-lorawan-create-destinations.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS IoT Core';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>
</html>