<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Troubleshooting AWS IoT identity and access - AWS IoT Core</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="assets" />
      <meta name="target_state" content="security_iam_troubleshoot" />
      <meta name="default_state" content="security_iam_troubleshoot" />
      <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/iot/latest/developerguide/security_iam_troubleshoot.html" />
      <meta name="description" content="Use the following information to help you diagnose and fix common issues that you might encounter when working with AWS IoT and IAM." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS IoT Core" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="AWS IoT provides secure, bi-directional communication between Internet-connected devices such as sensors, actuators, embedded micro-controllers, or smart appliances and the AWS Cloud. This enables you to collect telemetry data from multiple devices, and store and analyze the data. You can also create applications that enable your users to control these devices from their phones or tablets." />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="IoT Docs" />
      <meta name="this_doc_product" content="AWS IoT Core" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="assets/css/vendor4.css" rel="stylesheet" />
      <link href="assets/css/awsdocs-common.css" rel="stylesheet" /><script type="text/javascript" src="assets/js/vendor3.js" defer=""></script><script type="text/javascript" src="assets/js/vendor4.js" defer=""></script><script type="text/javascript" src="assets/js/vendor1.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-common.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-doc-app.js" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Troubleshooting AWS IoT identity and access - AWS IoT Core</title>
                        <meta name="pdf" content="iot-dg.pdf#security_iam_troubleshoot" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07JBRCWWZ" />
                        <meta name="github" content="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/security_iam_troubleshoot.md" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=210" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT%20Docs&amp;topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/security_iam_troubleshoot.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/security_iam_troubleshoot.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/security_iam_troubleshoot.html" />
                        <meta name="keywords" content="AWS IoT,IoT,Internet of Things" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="iot-dg.pdf#security_iam_troubleshoot" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a target="_blank" rel="noopener noreferrer" href="https://www.amazon.com/dp/B07JBRCWWZ" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/security_iam_troubleshoot.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iot/index.html">AWS IoT Core</a><a href="what-is-aws-iot.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#security_iam_troubleshoot-no-permissions">I am not authorized to
                                 perform an action in AWS IoT</a><a href="#security_iam_troubleshoot-passrole">I am not authorized to perform
                                 iam:PassRole</a><a href="#security_iam_troubleshoot-access-keys">I want to view my access
                                 keys</a><a href="#security_iam_troubleshoot-admin-delegate">I'm an administrator and want
                                 to allow others to access AWS IoT</a><a href="#security_iam_troubleshoot-cross-account-access">I want to allow people
                                 outside of my AWS account to access my AWS IoT resources</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="security_iam_troubleshoot">Troubleshooting AWS IoT identity
                                    and access
                                 </h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Use the following information to help you diagnose and fix common issues that you
                                    might
                                    encounter when working with AWS IoT and IAM.
                                 </p>
                                 <div class="highlights" id="inline-topiclist">
                                    <p><strong>Topics</strong></p>
                                    <ul>
                                       <li><a href="#security_iam_troubleshoot-no-permissions">I am not authorized to
                                             perform an action in AWS IoT</a></li>
                                       <li><a href="#security_iam_troubleshoot-passrole">I am not authorized to perform
                                             iam:PassRole</a></li>
                                       <li><a href="#security_iam_troubleshoot-access-keys">I want to view my access
                                             keys</a></li>
                                       <li><a href="#security_iam_troubleshoot-admin-delegate">I'm an administrator and want
                                             to allow others to access AWS IoT</a></li>
                                       <li><a href="#security_iam_troubleshoot-cross-account-access">I want to allow people
                                             outside of my AWS account to access my AWS IoT resources</a></li>
                                    </ul>
                                 </div>
                                 
                                 <h2 id="security_iam_troubleshoot-no-permissions">I am not authorized to
                                    perform an action in AWS IoT
                                 </h2>
                                 
                                 
                                 <p>If the AWS Management Console tells you that you're not authorized to perform an action,
                                    then you
                                    must contact your administrator for assistance. Your administrator is the person that
                                    provided you with your user name and password.
                                 </p>
                                 
                                 <p>The following example error occurs when the <code class="code">mateojackson</code> IAM user
                                    tries to use the console to view details about a thing but does not have
                                    <code class="code">iot:<code class="replaceable">DescribeThing</code></code>
                                    permissions.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">User: arn:aws:iam::123456789012:user/mateojackson is not authorized to perform: iot:<code class="replaceable">DescribeThing</code>
            on resource: <code class="replaceable">MyIoTThing</code></code></pre>
                                 <p>In this case, Mateo asks his administrator to update his policies to allow him to
                                    access the <code class="code"><code class="replaceable">MyIoTThing</code></code> resource using the
                                    <code class="code">iot:<code class="replaceable">DescribeThing</code></code>
                                    action.
                                 </p>
                                 
                                 <div class="variablelist">
                                     
                                    
                                    <dl>
                                       
                                       <dt><span class="term">Using AWS IoT Device Advisor</span></dt>
                                       
                                       <dd>
                                          
                                          <p>If you're using AWS IoT Device Advisor, the following example error occurs
                                             when the <code class="code">mateojackson</code> IAM user tries to use the console to view
                                             details about a suite definition but does not have
                                             <code class="code">iotdeviceadvisor:GetSuiteDefinition</code> permissions.
                                          </p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">User: arn:aws:iam::123456789012:user/mateojackson is not authorized to perform: iotdeviceadvisor:GetSuiteDefinition
            on resource: <code class="replaceable">MySuiteDefinition</code></code></pre>
                                          <p>In this case, Mateo asks his administrator to update his policies to allow
                                             him to access the <code class="replaceable"><code class="code">MySuiteDefinition</code></code>
                                             resource using the
                                             <code class="code">iotdeviceadvisor</code>:<code class="replaceable">GetSuiteDefinition</code>
                                             action.
                                          </p>
                                          
                                       </dd>
                                       
                                    </dl>
                                 </div>
                                  
                                 
                                 <h2 id="security_iam_troubleshoot-passrole">I am not authorized to perform
                                    iam:PassRole
                                 </h2> 
                                 
                                 
                                 <p>If you receive an error that you're not authorized to perform the <code class="code">iam:PassRole</code> action, then you must contact your administrator for
                                    assistance. Your administrator is the person that provided you with your user name
                                    and password. Ask that person to update your policies to allow
                                    you to pass a role to AWS IoT.
                                 </p>
                                 
                                 <p>Some AWS services allow you to pass an existing role to that service, instead of creating
                                    a new service role or service-linked role. To do
                                    this, you must have permissions to pass the role to the service.
                                 </p>
                                 
                                 <p>The following example error occurs when an IAM user named <code class="code">marymajor</code> tries to use the console to perform an action in
                                    AWS IoT. However, the action requires the service to have permissions granted by a
                                    service role. Mary does not have permissions to pass the
                                    role to the service.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">User: arn:aws:iam::123456789012:user/<code class="code" copy="true">marymajor</code> is not authorized to perform: iam:PassRole</code></pre>
                                 <p>In this case, Mary asks her administrator to update her policies to allow her to perform
                                    the <code class="code">iam:PassRole</code> action.
                                 </p>
                                  
                                 
                                 <h2 id="security_iam_troubleshoot-access-keys">I want to view my access
                                    keys
                                 </h2> 
                                 
                                 
                                 <p>After you create your IAM user access keys, you can view your access key ID at any
                                    time. However, you can't view your secret access key again.
                                    If you lose your secret key, you must create a new access key pair. 
                                 </p>
                                 
                                 <p>Access keys consist of two parts: an access key ID (for example, <code class="code">AKIAIOSFODNN7EXAMPLE</code>) and a secret access key (for example,
                                    <code class="code">wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</code>). Like a user name and password, you must use both the access key ID and secret access
                                    key
                                    together to authenticate your requests. Manage your access keys as securely as you
                                    do your user name and password.
                                 </p>
                                 
                                 <div class="awsdocs-note awsdocs-important">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Important</span></div>
                                    <div class="awsdocs-note-text">
                                       <p> Do not provide your access keys to a third party, even to help <a href="https://docs.aws.amazon.com/general/latest/gr/acct-identifiers.html#FindingCanonicalId">find your canonical user ID</a>. By doing
                                          this, you might give someone permanent access to your account. 
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <p>When you create an access key pair, you are prompted to save the access key ID and
                                    secret access key in a secure location. The secret access key
                                    is available only at the time you create it. If you lose your secret access key, you
                                    must add new access keys to your IAM user. You can have a
                                    maximum of two access keys. If you already have two, you must delete one key pair
                                    before creating a new one. To view instructions, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html#Using_CreateAccessKey">Managing access keys</a> in the
                                    <em>IAM User Guide</em>.
                                 </p>
                                  
                                 
                                 <h2 id="security_iam_troubleshoot-admin-delegate">I'm an administrator and want
                                    to allow others to access AWS IoT
                                 </h2> 
                                 
                                 
                                 <p>To allow others to access AWS IoT, you must create an IAM entity (user or role) for
                                    the person or application that needs access. They
                                    will use the credentials for that entity to access AWS. You must then attach a policy
                                    to the entity that grants them the correct permissions in
                                    AWS IoT.
                                 </p>
                                 
                                 <p>To get started right away, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/getting-started_create-delegated-user.html">Creating your first IAM delegated user and
                                       group</a> in the <em>IAM User Guide</em>.
                                 </p>
                                  
                                 
                                 <h2 id="security_iam_troubleshoot-cross-account-access">I want to allow people
                                    outside of my AWS account to access my AWS IoT resources
                                 </h2> 
                                 
                                 
                                 <p>You can create a role that users in other accounts or people outside of your organization
                                    can use to access your resources. You can specify who
                                    is trusted to assume the role. For services that support resource-based policies or
                                    access control lists (ACLs), you can use those policies to grant
                                    people access to your resources.
                                 </p>
                                 
                                 <p>To learn more, consult the following:</p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>To learn whether AWS IoT supports these features, see <a href="./security_iam_service-with-iam.html">How AWS IoT works with
                                                IAM</a>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>To learn how to provide access to your resources across AWS accounts that you own,
                                             see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html">Providing access to an IAM user in another AWS account that you
                                                own</a> in the <em>IAM User Guide</em>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>To learn how to provide access to your resources to third-party AWS accounts, see
                                             <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios_third-party.html">Providing access to AWS accounts owned by third parties</a> in the
                                             <em>IAM User Guide</em>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>To learn how to provide access through identity federation, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios_federated-users.html">Providing access to externally authenticated users (identity federation)</a> in the <em>IAM User Guide</em>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>To learn the difference between using roles and resource-based policies for cross-account
                                             access, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_compare-resource-policies.html">How IAM roles differ from resource-based policies</a> in the
                                             <em>IAM User Guide</em>.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="./security_iam_id-based-policy-examples.html">Identity-based policy examples</div>
                                    <div id="next" class="next-link" accesskey="n" href="./security-logging.html">Logging and Monitoring</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/security_iam_troubleshoot.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/security_iam_troubleshoot.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS IoT Core';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>
</html>