<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Device-side metrics - AWS IoT Core</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="assets" />
      <meta name="target_state" content="detect-device-side-metrics" />
      <meta name="default_state" content="detect-device-side-metrics" />
      <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/iot/latest/developerguide/detect-device-side-metrics.html" />
      <meta name="description" content="When creating a Security Profile, you can specify your IoT device's expected behavior by configuring behaviors and thresholds for metrics generated by IoT devices. The following are device-side metrics, which are metrics from agents that you install on your devices." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS IoT Core" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="AWS IoT provides secure, bi-directional communication between Internet-connected devices such as sensors, actuators, embedded micro-controllers, or smart appliances and the AWS Cloud. This enables you to collect telemetry data from multiple devices, and store and analyze the data. You can also create applications that enable your users to control these devices from their phones or tablets." />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="IoT Docs" />
      <meta name="this_doc_product" content="AWS IoT Core" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="assets/css/vendor4.css" rel="stylesheet" />
      <link href="assets/css/awsdocs-common.css" rel="stylesheet" /><script type="text/javascript" src="assets/js/vendor3.js" defer=""></script><script type="text/javascript" src="assets/js/vendor4.js" defer=""></script><script type="text/javascript" src="assets/js/vendor1.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-common.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-doc-app.js" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Device-side metrics - AWS IoT Core</title>
                        <meta name="pdf" content="iot-dg.pdf#detect-device-side-metrics" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07JBRCWWZ" />
                        <meta name="github" content="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/detect-device-side-metrics.md" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=210" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT%20Docs&amp;topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/detect-device-side-metrics.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/detect-device-side-metrics.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/detect-device-side-metrics.html" />
                        <meta name="keywords" content="AWS IoT,IoT,Internet of Things" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="iot-dg.pdf#detect-device-side-metrics" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a target="_blank" rel="noopener noreferrer" href="https://www.amazon.com/dp/B07JBRCWWZ" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/detect-device-side-metrics.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iot/index.html">AWS IoT Core</a><a href="what-is-aws-iot.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#detect-all-bytes-out">Bytes out (aws:all-bytes-out)</a><a href="#detect-all-bytes-in">Bytes in (aws:all-bytes-in)</a><a href="#detect-num-listening-tcp-ports">Listening TCP port count
                                 (aws:num-listening-tcp-ports)</a><a href="#detect-num-listening-udp-ports">Listening UDP port count
                                 (aws:num-listening-udp-ports)</a><a href="#detect-all-packets-out">Packets out (aws:all-packets-out)</a><a href="#detect-all-packets-in">Packets in (aws:all-packets-in)</a><a href="#detect-destination-ip-addresses">Destination IPs
                                 (aws:destination-ip-addresses)</a><a href="#detect-listening-tcp-ports">Listening TCP ports
                                 (aws:listening-tcp-ports)</a><a href="#detect-listening-udp-ports">Listening UDP ports
                                 (aws:listening-udp-ports)</a><a href="#detect-num-established-tcp-connections">Established TCP connections count
                                 (aws:num-established-tcp-connections)</a><a href="#DetectMetricsMessagesSpec">Device metrics document specification</a><a href="#DetectMetricsMessages">Sending metrics from devices</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="detect-device-side-metrics">Device-side metrics</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>When creating a Security Profile, you can specify your IoT device's expected behavior
                                    by
                                    configuring behaviors and thresholds for metrics generated by IoT devices. The following
                                    are
                                    device-side metrics, which are metrics from agents that you install on your devices.
                                 </p>
                                 
                                 <h2 id="detect-all-bytes-out">Bytes out (<code class="code">aws:all-bytes-out</code>)
                                 </h2>
                                 
                                 <p>The number of outbound bytes from a device during a given time period.</p>
                                 
                                 <p>Use this metric to specify the maximum or minimum amount of outbound traffic that
                                    a device
                                    should send, measured in bytes, in a given period of time.
                                 </p>
                                 
                                 <p>Compatible with: Rules Detect | ML Detect</p>
                                 
                                 <p>Operators: less-than | less-than-equal | greater-than | greater-than-equal </p>
                                 
                                 <p>Value: a non-negative integer </p>
                                 
                                 <p>Units: bytes </p>
                                 
                                 <p>Duration: a non-negative integer. Valid values are 300, 600, 900, 1800, or 3600
                                    seconds.
                                 </p>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example </b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "TCP outbound traffic",
  "metric": "aws:all-bytes-out",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "value": <span>{</span>
      "count": 4096
    },
    "durationSeconds": 300,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using a <code class="code">statisticalThreshold</code></b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "TCP outbound traffic",
  "metric": "aws:all-bytes-out",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "statisticalThreshold": <span>{</span>
      "statistic": "p50"
    },
    "durationSeconds": 900,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using ML Detect</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Outbound traffic ML behavior",
  "metric": "aws:all-bytes-out",
  "criteria": <span>{</span>
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1,
    "mlDetectionConfig": <span>{</span>
      "confidenceLevel": "HIGH"
    }
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="detect-all-bytes-in">Bytes in (<code class="code">aws:all-bytes-in</code>)
                                 </h2>
                                 
                                 <p>The number of inbound bytes to a device during a given time period.</p>
                                 
                                 <p>Use this metric to specify the maximum or minimum amount of inbound traffic that a
                                    device
                                    should receive, measured in bytes, in a given period of time.
                                 </p>
                                 
                                 <p>Compatible with: Rules Detect | ML Detect</p>
                                 
                                 <p>Operators: less-than | less-than-equal | greater-than | greater-than-equal </p>
                                 
                                 <p>Value: a non-negative integer </p>
                                 
                                 <p>Units: bytes </p>
                                 
                                 <p>Duration: a non-negative integer. Valid values are 300, 600, 900, 1800, or 3600
                                    seconds.
                                 </p>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example </b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "TCP inbound traffic",
  "metric": "aws:all-bytes-in",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "value": <span>{</span>
      "count": 4096
    },
    "durationSeconds": 300,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using a <code class="code">statisticalThreshold</code></b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "TCP inbound traffic",
  "metric": "aws:all-bytes-in",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "statisticalThreshold": <span>{</span>
      "statistic": "p90"
    },
    "durationSeconds": 300,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using ML Detect</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Inbound traffic ML behavior",
  "metric": "aws:all-bytes-in",
  "criteria": <span>{</span>
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1,
    "mlDetectionConfig": <span>{</span>
      "confidenceLevel": "HIGH"
    }
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="detect-num-listening-tcp-ports">Listening TCP port count
                                    (<code class="code">aws:num-listening-tcp-ports</code>)
                                 </h2>
                                 
                                 <p>The number of TCP ports the device is listening on.</p>
                                 
                                 <p>Use this metric to specify the maximum number of TCP ports that each device should
                                    monitor.
                                 </p>
                                 
                                 <p>Compatible with: Rules Detect | ML Detect</p>
                                 
                                 <p>Unit: failures </p>
                                 
                                 <p>Operators: less-than | less-than-equal | greater-than | greater-than-equal </p>
                                 
                                 <p>Value: a non-negative integer </p>
                                 
                                 <p>Units: failures </p>
                                 
                                 <p>Duration: a non-negative integer. Valid values are 300, 600, 900, 1800, or 3600
                                    seconds.
                                 </p>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example </b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Max TCP Ports",
  "metric": "aws:num-listening-tcp-ports",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "value": <span>{</span>
      "count": 5
    },
    "durationSeconds": 300,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using a <code class="code">statisticalThreshold</code></b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Max TCP Ports",
  "metric": "aws:num-listening-tcp-ports",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "statisticalThreshold": <span>{</span>
      "statistic": "p50"
    },
    "durationSeconds": 300,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using ML detect</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Max TCP Port ML behavior",
  "metric": "aws:num-listening-tcp-ports",
  "criteria": <span>{</span>
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1,
    "mlDetectionConfig": <span>{</span>
      "confidenceLevel": "HIGH"
    }
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="detect-num-listening-udp-ports">Listening UDP port count
                                    (<code class="code">aws:num-listening-udp-ports</code>)
                                 </h2>
                                 
                                 <p>The number of UDP ports the device is listening on.</p>
                                 
                                 <p>Use this metric to specify the maximum number of UDP ports that each device should
                                    monitor.
                                 </p>
                                 
                                 <p>Compatible with: Rules Detect | ML Detect</p>
                                 
                                 <p>Unit: failures </p>
                                 
                                 <p>Operators: less-than | less-than-equal | greater-than | greater-than-equal </p>
                                 
                                 <p>Value: a non-negative integer </p>
                                 
                                 <p>Units: failures </p>
                                 
                                 <p>Duration: a non-negative integer. Valid values are 300, 600, 900, 1800, or 3600
                                    seconds.
                                 </p>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example </b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Max UDP Ports",
  "metric": "aws:num-listening-udp-ports",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "value": <span>{</span>
      "count": 5
    },
    "durationSeconds": 300,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using a <code class="code">statisticalThreshold</code></b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Max UDP Ports",
  "metric": "aws:num-listening-udp-ports",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "statisticalThreshold": <span>{</span>
      "statistic": "p50"
    },
    "durationSeconds": 300,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using ML Detect</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Max UPD Port ML behavior",
  "metric": "aws:num-listening-tcp-ports",
  "criteria": <span>{</span>
	 "consecutiveDatapointsToAlarm": 1,
	 "consecutiveDatapointsToClear": 1,
	 "mlDetectionConfig": <span>{</span>
	   "confidenceLevel": "HIGH"
   }
	},
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="detect-all-packets-out">Packets out (<code class="code">aws:all-packets-out</code>)
                                 </h2>
                                 
                                 <p>The number of outbound packets from a device during a given time period.</p>
                                 
                                 <p>Use this metric to specify the maximum or minimum amount of total outbound traffic
                                    that a
                                    device should send in a given period of time.
                                 </p>
                                 
                                 <p>Compatible with: Rules Detect | ML Detect</p>
                                 
                                 <p>Operators: less-than | less-than-equal | greater-than | greater-than-equal </p>
                                 
                                 <p>Value: a non-negative integer </p>
                                 
                                 <p>Units: packets </p>
                                 
                                 <p>Duration: a non-negative integer. Valid values are 300, 600, 900, 1800, or 3600
                                    seconds.
                                 </p>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example </b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "TCP outbound traffic",
  "metric": "aws:all-packets-out",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "value": <span>{</span>
      "count": 100
    },
    "durationSeconds": 300,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using a <code class="code">statisticalThreshold</code></b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "TCP outbound traffic",
  "metric": "aws:all-packets-out",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "statisticalThreshold": <span>{</span>
      "statistic": "p90"
    },
    "durationSeconds": 300,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using ML Detect</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Outbound sent ML behavior",
  "metric": "aws:all-packets-out",
  "criteria": <span>{</span>
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1,
    "mlDetectionConfig": <span>{</span>
      "confidenceLevel": "HIGH"
    }
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="detect-all-packets-in">Packets in (<code class="code">aws:all-packets-in</code>)
                                 </h2>
                                 
                                 <p>The number of inbound packets to a device during a given time period.</p>
                                 
                                 <p>Use this metric to specify the maximum or minimum amount of total inbound traffic
                                    that a
                                    device should receive in a given period of time.
                                 </p>
                                 
                                 <p>Compatible with: Rule Detect | ML Detect</p>
                                 
                                 <p>Operators: less-than | less-than-equal | greater-than | greater-than-equal </p>
                                 
                                 <p>Value: a non-negative integer </p>
                                 
                                 <p>Units: packets </p>
                                 
                                 <p>Duration: a non-negative integer. Valid values are 300, 600, 900, 1800 or 3600
                                    seconds.
                                 </p>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example </b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "TCP inbound traffic",
  "metric": "aws:all-packets-in",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "value": <span>{</span>
      "count": 100
    },
    "durationSeconds": 300,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <div class="example-contents">
                                       <p>Example using a <code class="code">statisticalThreshold</code></p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "TCP inbound traffic",
  "metric": "aws:all-packets-in",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "statisticalThreshold": <span>{</span>
      "statistic": "p90"
    },
    "durationSeconds": 300,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using ML Detect</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Inbound sent ML behavior",
  "metric": "aws:all-packets-in",
  "criteria": <span>{</span>
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1,
    "mlDetectionConfig": <span>{</span>
      "confidenceLevel": "HIGH"
    }
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="detect-destination-ip-addresses">Destination IPs
                                    (<code class="code">aws:destination-ip-addresses</code>)
                                 </h2>
                                 
                                 <p>A set of IP destinations.</p>
                                 
                                 <p>Use this metric to specify a set of allowed (formerly referred to as whitelisted)
                                    or
                                    denied (formerly referred to as blacklisted) Classless Inter-Domain Routings (CIDR)
                                    from which
                                    each device must or must not connect to AWS IoT.
                                 </p>
                                 
                                 <p>Compatible with: Rules Detect</p>
                                 
                                 <p>Operators: in-cidr-set | not-in-cidr-set </p>
                                 
                                 <p>Values: a list of CIDRs</p>
                                 
                                 <p>Units: n/a</p>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example </b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Denied source IPs",
  "metric": "aws:source-ip-address",
  "criteria": <span>{</span>
    "comparisonOperator": "not-in-cidr-set",
    "value": <span>{</span>
      "cidrs": [ "12.8.0.0/16", "15.102.16.0/24" ]
    }
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="detect-listening-tcp-ports">Listening TCP ports
                                    (<code class="code">aws:listening-tcp-ports</code>)
                                 </h2>
                                 
                                 <p>The TCP ports that the device is listening on.</p>
                                 
                                 <p>Use this metric to specify a set of allowed (formerly referred to as whitelisted)
                                    or
                                    denied (formerly referred to as blacklisted) TCP ports on which each device must or
                                    must not
                                    listen.
                                 </p>
                                 
                                 <p>Compatible with: Rules Detect</p>
                                 
                                 <p>Operators: in-port-set | not-in-port-set </p>
                                 
                                 <p>Values: a list of ports </p>
                                 
                                 <p>Units: n/a</p>
                                 
                                 <div class="example">
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Listening TCP Ports",
  "metric": "aws:listening-tcp-ports",
  "criteria": <span>{</span>
    "comparisonOperator": "in-port-set",
    "value": <span>{</span>
      "ports": [ 443, 80 ]
    }
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="detect-listening-udp-ports">Listening UDP ports
                                    (<code class="code">aws:listening-udp-ports</code>)
                                 </h2>
                                 
                                 <p>The UDP ports that the device is listening on.</p>
                                 
                                 <p>Use this metric to specify a set of allowed (formerly referred to as whitelisted)
                                    or
                                    denied (formerly referred to as blacklisted) UDP ports on which each device must or
                                    must not
                                    listen.
                                 </p>
                                 
                                 <p>Compatible with: Rules Detect</p>
                                 
                                 <p>Operators: in-port-set | not-in-port-set </p>
                                 
                                 <p>Values: a list of ports </p>
                                 
                                 <p>Units: n/a</p>
                                 
                                 <div class="example">
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Listening UDP Ports",
  "metric": "aws:listening-udp-ports",
  "criteria": <span>{</span>
    "comparisonOperator": "in-port-set",
    "value": <span>{</span>
      "ports": [ 1025, 2000 ]
    }
  }
}</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="detect-num-established-tcp-connections">Established TCP connections count
                                    (<code class="code">aws:num-established-tcp-connections</code>)
                                 </h2>
                                 
                                 <p>The number of TCP connections for a device.</p>
                                 
                                 <p>Use this metric to specify the maximum or minimum number of active TCP connections
                                    that
                                    each device should have (All TCP states). 
                                 </p>
                                 
                                 <p>Compatible with: Rules Detect | ML Detect</p>
                                 
                                 <p>Operators: less-than | less-than-equal | greater-than | greater-than-equal</p>
                                 
                                 <p>Value: a non-negative integer </p>
                                 
                                 <p>Units: connections</p>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example </b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "TCP Connection Count",
  "metric": "aws:num-established-tcp-connections",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "value": <span>{</span>
      "count": 3
    },
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using a <code class="code">statisticalThreshold</code></b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "TCP Connection Count",
  "metric": "aws:num-established-tcp-connections",
  "criteria": <span>{</span>
    "comparisonOperator": "less-than-equal",
    "statisticalThreshold": <span>{</span>
      "statistic": "p90"
    },
    "durationSeconds": 900,
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example using ML Detect</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "name": "Connection count ML behavior",
  "metric": "aws:num-established-tcp-connections",
  "criteria": <span>{</span>
    "consecutiveDatapointsToAlarm": 1,
    "consecutiveDatapointsToClear": 1,
    "mlDetectionConfig": <span>{</span>
      "confidenceLevel": "HIGH"
    }
  },
  "suppressAlerts": true
}</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="DetectMetricsMessagesSpec">Device metrics document specification</h2>
                                 
                                 <div class="table-container">
                                    <div class="table-contents">
                                       <table id="w332aac42c17c32c25b3">
                                          <thead>
                                             <tr>
                                                <th class="table-header" colspan="100%">
                                                   <div class="title">Overall structure</div>
                                                </th>
                                             </tr>
                                             
                                             <tr>
                                                
                                                <th>
                                                   
                                                   <p>Long name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Short name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Required</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Type</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Constraints</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Notes</p>
                                                   
                                                </th>
                                                
                                             </tr>
                                             
                                          </thead>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>header</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>hed</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Y</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Object</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Complete block required for well-formed report.</p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>metrics</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>met</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Y</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Object</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>A report can have both or at least one <code class="code">metrics</code> or <code class="code">custom_metrics</code> block.
                                                </p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>custom_metrics</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>cmet</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Y</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Object</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>A report can have both or at least one <code class="code">metrics</code> or <code class="code">custom_metrics</code> block.
                                                </p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                       </table>
                                    </div>
                                 </div>
                                 
                                 <div class="table-container">
                                    <div class="table-contents">
                                       <table id="w332aac42c17c32c25b5">
                                          <thead>
                                             <tr>
                                                <th class="table-header" colspan="100%">
                                                   <div class="title">Header block</div>
                                                </th>
                                             </tr>
                                             
                                             <tr>
                                                
                                                <th>
                                                   
                                                   <p>Long name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Short name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Required</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Type</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Constraints</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Notes</p>
                                                   
                                                </th>
                                                
                                             </tr>
                                             
                                          </thead>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>report_id</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>rid</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Y</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Integer</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Monotonically increasing value. Epoch timestamp recommended.</p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>version</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>v</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Y</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>String</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Major.Minor</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Minor increments with addition of field. Major increments if metrics
                                                   removed.
                                                </p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                       </table>
                                    </div>
                                 </div>
                                 
                                 <p><b>Metrics block:</b></p>
                                 
                                 <div class="table-container">
                                    <div class="table-contents">
                                       <table id="w332aac42c17c32c25b9">
                                          <thead>
                                             <tr>
                                                <th class="table-header" colspan="100%">
                                                   <div class="title">TCP connections</div>
                                                </th>
                                             </tr>
                                             
                                             <tr>
                                                
                                                <th>
                                                   
                                                   <p>Long name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Short name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Parent element</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Required</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Type</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Constraints</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Notes</p>
                                                   
                                                </th>
                                                
                                             </tr>
                                             
                                          </thead>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>tcp_connections</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>tc</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>metrics</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Object</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>established_connections</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>ec</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>tcp_connections</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>List&lt;Connection&gt;</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Established TCP state</p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>connections</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>cs</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>established_connections</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>List&lt;Object&gt;</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>remote_addr</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>rad</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>connections</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Y</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>ip:port</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>IP can be IPv6 or IPv4</p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>local_port</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>lp</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>connections</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>&gt;= 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>local_interface</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>li</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>connections</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>String</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Interface name</p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>total</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>t</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>established_connections</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>&gt;= 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number of established connections</p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                       </table>
                                    </div>
                                 </div>
                                 
                                 <div class="table-container">
                                    <div class="table-contents">
                                       <table id="w332aac42c17c32c25c11">
                                          <thead>
                                             <tr>
                                                <th class="table-header" colspan="100%">
                                                   <div class="title">Listening TCP ports</div>
                                                </th>
                                             </tr>
                                             
                                             <tr>
                                                
                                                <th>
                                                   
                                                   <p>Long name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Short name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Parent element</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Required</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Type</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Constraints</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Notes</p>
                                                   
                                                </th>
                                                
                                             </tr>
                                             
                                          </thead>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>listening_tcp_ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>tp</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>metrics</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Object</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>pts</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>listening_tcp_ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>List&lt;Port&gt;</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>&gt; 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>port</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>pt</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>&gt; 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>ports should be numbers greater than 0</p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>interface</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>if</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>String</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Interface name</p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>total</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>t</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>listening_tcp_ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>&gt;= 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                       </table>
                                    </div>
                                 </div>
                                 
                                 <div class="table-container">
                                    <div class="table-contents">
                                       <table id="w332aac42c17c32c25c13">
                                          <thead>
                                             <tr>
                                                <th class="table-header" colspan="100%">
                                                   <div class="title">Listening UDP ports</div>
                                                </th>
                                             </tr>
                                             
                                             <tr>
                                                
                                                <th>
                                                   
                                                   <p>Long name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Short name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Parent element</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Required</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Type</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Constraints</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Notes</p>
                                                   
                                                </th>
                                                
                                             </tr>
                                             
                                          </thead>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>listening_udp_ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>up</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>metrics</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Object</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>pts</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>listening_udp_ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>List&lt;Port&gt;</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>&gt; 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>port</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>pt</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>&gt; 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Ports should be numbers greater than 0</p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>interface</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>if</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>String</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Interface name</p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>total</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>t</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>listening_udp_ports</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>&gt;= 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                       </table>
                                    </div>
                                 </div>
                                 
                                 <div class="table-container">
                                    <div class="table-contents">
                                       <table id="w332aac42c17c32c25c15">
                                          <thead>
                                             <tr>
                                                <th class="table-header" colspan="100%">
                                                   <div class="title">Network statistics</div>
                                                </th>
                                             </tr>
                                             
                                             <tr>
                                                
                                                <th>
                                                   
                                                   <p>Long name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Short name</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Parent element</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Required</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Type</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Constraints</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Notes</p>
                                                   
                                                </th>
                                                
                                             </tr>
                                             
                                          </thead>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>network_stats</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>ns</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>metrics</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Object</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>bytes_in</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>bi</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>network_stats</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Delta Metric, &gt;= 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>bytes_out</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>bo</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>network_stats</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Delta Metric, &gt;= 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>packets_in</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>pi</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>network_stats</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Delta Metric, &gt;= 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>packets_out</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>po</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>network_stats</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>N</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Number</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>Delta Metric, &gt;= 0</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                       </table>
                                    </div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example </b></p>
                                    <div class="example-contents">
                                       <p>The following JSON structure uses long names.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "header": <span>{</span>
    "report_id": 1530304554,
    "version": "1.0"
  },
  "metrics": <span>{</span>
    "listening_tcp_ports": <span>{</span>
      "ports": [
        <span>{</span>
          "interface": "eth0",
          "port": 24800
        },
        <span>{</span>
          "interface": "eth0",
          "port": 22
        },
        <span>{</span>
          "interface": "eth0",
          "port": 53
        }
      ],
      "total": 3
    },
    "listening_udp_ports": <span>{</span>
      "ports": [
        <span>{</span>
          "interface": "eth0",
          "port": 5353
        },
        <span>{</span>
          "interface": "eth0",
          "port": 67
        }
      ],
      "total": 2
    },
    "network_stats": <span>{</span>
      "bytes_in": 29358693495,
      "bytes_out": 26485035,
      "packets_in": 10013573555,
      "packets_out": 11382615
    },
    "tcp_connections": <span>{</span>
      "established_connections": <span>{</span>
        "connections": [
          <span>{</span>
            "local_interface": "eth0",
            "local_port": 80,
            "remote_addr": "192.168.0.1:8000"
          },
          <span>{</span>
            "local_interface": "eth0",
            "local_port": 80,
            "remote_addr": "192.168.0.1:8000"
          }
        ],
        "total": 2
      }
    }
  },
  "custom_metrics": <span>{</span>
    "MyMetricOfType_Number": [
      <span>{</span>
        "number": 1
      }
    ],
    "MyMetricOfType_NumberList": [
      <span>{</span>
        "number_list": [
          1,
          2,
          3
        ]
      }
    ],
    "MyMetricOfType_StringList": [
      <span>{</span>
        "string_list": [
          "value_1",
          "value_2"
        ]
      }
    ],
    "MyMetricOfType_IpList": [
      <span>{</span>
        "ip_list": [
          "172.0.0.0",
          "172.0.0.10"
        ]
      }
    ]
  }
}</code></pre></div>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example JSON structure using short names</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "hed": <span>{</span>
    "rid": 1530305228,
    "v": "1.0"
  },
  "met": <span>{</span>
    "tp": <span>{</span>
      "pts": [
        <span>{</span>
          "if": "eth0",
          "pt": 24800
        },
        <span>{</span>
          "if": "eth0",
          "pt": 22
        },
        <span>{</span>
          "if": "eth0",
          "pt": 53
        }
      ],
      "t": 3
    },
    "up": <span>{</span>
      "pts": [
        <span>{</span>
          "if": "eth0",
          "pt": 5353
        },
        <span>{</span>
          "if": "eth0",
          "pt": 67
        }
      ],
      "t": 2
    },
    "ns": <span>{</span>
      "bi": 29359307173,
      "bo": 26490711,
      "pi": 10014614051,
      "po": 11387620
    },
    "tc": <span>{</span>
      "ec": <span>{</span>
        "cs": [
          <span>{</span>
            "li": "eth0",
            "lp": 80,
            "rad": "192.168.0.1:8000"
          },
          <span>{</span>
            "li": "eth0",
            "lp": 80,
            "rad": "192.168.0.1:8000"
          }
        ],
        "t": 2
      }
    }
  },
  "cmet": <span>{</span>
    "MyMetricOfType_Number": [
      <span>{</span>
        "number": 1
      }
    ],
    "MyMetricOfType_NumberList": [
      <span>{</span>
        "number_list": [
          1,
          2,
          3
        ]
      }
    ],
    "MyMetricOfType_StringList": [
      <span>{</span>
        "string_list": [
          "value_1",
          "value_2"
        ]
      }
    ],
    "MyMetricOfType_IpList": [
      <span>{</span>
        "ip_list": [
          "172.0.0.0",
          "172.0.0.10"
        ]
      }
    ]
  }
}</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="DetectMetricsMessages">Sending metrics from devices</h2>
                                 
                                 <p>AWS IoT Device Defender Detect can collect, aggregate, and monitor metrics data generated
                                    by AWS IoT devices
                                    to identify devices that exhibit abnormal behavior. This section shows you how to
                                    send metrics
                                    from a device to AWS IoT Device Defender.
                                 </p>
                                 
                                 <p>You must securely deploy the AWS IoT SDK version two on your AWS IoT connected devices
                                    or device gateways
                                    to collect device-side metrics. AWS IoT Device Defender provides sample agents to
                                    use as examples when you
                                    create your own. If you can't provide device metrics, you can still get limited functionality
                                    based on cloud-side metrics. See the full list of SDKs <a href="https://docs.aws.amazon.com/iot/latest/developerguide/iot-sdks.html">here</a>.
                                 </p> 
                                 
                                 <p>There are two methods for configuring your device to publish metrics: AWS IoT Device
                                    Client and AWS IoT Device Defender sample agent. Generally you should use AWS IoT
                                    Device Client because it
                                    provides a single agent that covers the features present in both AWS IoT Device Defender
                                    and AWS IoT Device
                                    Management. These features include jobs, secure tunneling, AWS IoT Device Defender
                                    metrics publishing, and
                                    more. If you define custom metrics for your device to monitor, then you should use
                                    AWS IoT Device Defender
                                    sample agent in Python to send data. 
                                 </p>
                                  
                                 
                                 <h3 id="UsingAWSIoTDeviceClient">Using the AWS IoT Device Client to publish metrics</h3>   
                                 
                                 <p>To install
                                    AWS IoT Device Client, you can download it from <a href="https://github.com/awslabs/aws-iot-device-client" rel="noopener noreferrer" target="_blank"><span>Github</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. After
                                    you've
                                    installed the AWS IoT Device Client on the device for which you want to collect device-side
                                    data, you must configure it to send device-side metrics to AWS IoT Device Defender.
                                    Verify that the AWS IoT
                                    Device Client <a href="https://github.com/awslabs/aws-iot-device-client/blob/main/config-template.json" rel="noopener noreferrer" target="_blank"><span>configuration file</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> has the following parameters set in the
                                    <code class="code">device-defender</code> section:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON ">  
  "device-defender":    <span>{</span>
        "enabled":    true,
        "interval-in-seconds": 300
    } 
</code></pre> 
                                 <div class="awsdocs-note awsdocs-warning">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Warning</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>At a minimum, you should set the time interval to 300 seconds. If you set the time
                                          interval to anything less than 300 seconds, your metric data may be throttled.
                                       </p>
                                    </div>
                                 </div> 
                                 
                                 <p> After you've updated your configuration, you can create security profiles and behaviors
                                    in the AWS IoT Device Defender console to monitor the metrics that your devices publish
                                    to the cloud. You can
                                    find published metrics in the AWS IoT Core console by choosing Defend, Detect, and
                                    then
                                    Metrics.
                                 </p>
                                  
                                 
                                  
                                 
                                 <h3 id="UsingSampleAgent">Using the AWS IoT Device Defender sample agent to publish
                                    metrics
                                 </h3>
                                 
                                 <p>You can use the AWS IoT Device Defender sample agent to monitor device-side metrics
                                    and <a href="https://docs.aws.amazon.com/iot/latest/developerguide/dd-detect-custom-metrics.html">custom metrics</a>
                                    from AWS IoT devices.
                                 </p> 
                                 
                                 
                                 <p>A sample device metric reporting agent is currently available in C at <a href="https://github.com/aws-samples/aws-iot-device-defender-agent-c" rel="noopener noreferrer" target="_blank"><span>https://github.com/aws-samples/aws-iot-device-defender-agent-c</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. There is also a
                                    sample device metric reporting agent available in Python on GitHub at <a href="https://github.com/aws-samples/aws-iot-device-defender-agent-sdk-python" rel="noopener noreferrer" target="_blank"><span>
                                          https://github.com/aws-samples/aws-iot-device-defender-agent-sdk-python</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Custom
                                    metrics are supported only by the Python sample agent. Specifically see the <a href="https://github.com/aws-samples/aws-iot-device-defender-agent-sdk-python/tree/master/samples/greengrass/greengrass_core_metrics_agent" rel="noopener noreferrer" target="_blank"><span>greengrass_defender_agent.py</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> file for a sample agent used with AWS IoT Greengrass
                                    devices.
                                 </p>
                                 
                                 
                                 <p>To use the sample agents or create your own custom agent, you must install the AWS
                                    IoT
                                    Device SDK. To find resources for your development language, see <a href="https://aws.amazon.com/iot-core/resources" rel="noopener noreferrer" target="_blank"><span>AWS IoT Core Resources</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
                                 </p>    
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>All agents must create a connection to AWS IoT and publish metrics to one of these
                                             reserved AWS IoT Device Defender MQTT topics: 
                                          </p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">$aws/things/<code class="replaceable">THING_NAME</code>/defender/metrics/json</code></pre>
                                          <p>or</p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">$aws/things/<code class="replaceable">THING_NAME</code>/defender/metrics/cbor</code></pre>
                                          <p>AWS IoT Device Defender uses one of these topics to reply with the receipt status
                                             of your metrics
                                             reports:
                                          </p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">$aws/things/<code class="replaceable">THING_NAME</code>/defender/metrics/json/accepted</code></pre>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">$aws/things/<code class="replaceable">THING_NAME</code>/defender/metrics/cbor/accepted</code></pre>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">$aws/things/<code class="replaceable">THING_NAME</code>/defender/metrics/json/rejected</code></pre>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">$aws/things/<code class="replaceable">THING_NAME</code>/defender/metrics/cbor/rejected</code></pre>
                                          </li>
                                       <li class="listitem">
                                          
                                          <p>To report metrics, a device must be registered as a thing in AWS IoT.</p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>A device should, generally, send a metric report once every five minutes. Devices
                                             are
                                             throttled so they can't make more than one metric report every five minutes. 
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Devices must report current metrics. Historical metrics reporting isn't
                                             supported.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>You can optionally use <a href="./iot-jobs.html">Jobs</a> to change how often AWS IoT Device Defender sends metrics. An example is included
                                             with the AWS IoT Device Defender Agent
                                             C samples. For more information, see the <a href="https://github.com/aws-samples/aws-iot-device-defender-agent-c/blob/master/README.md" rel="noopener noreferrer" target="_blank"><span>README.md</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                  
                                 
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="./dd-detect-custom-metrics.html">Custom metrics</div>
                                    <div id="next" class="next-link" accesskey="n" href="./detect-cloud-side-metrics.html">Cloud-side metrics</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/detect-device-side-metrics.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/detect-device-side-metrics.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS IoT Core';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>
</html>