<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Use your Windows or Linux PC or Mac as an AWS IoT device - AWS IoT Core</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="assets" />
      <meta name="target_state" content="using-laptop-as-device" />
      <meta name="default_state" content="using-laptop-as-device" />
      <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/iot/latest/developerguide/using-laptop-as-device.html" />
      <meta name="description" content="In this tutorial, you'll configure a personal computer for use with AWS IoT. These instructions support Windows and Linux PCs and Macs. To accomplish this, you need to install some software on your computer. If you don't want to install software on your computer, you might try" />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS IoT Core" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="AWS IoT provides secure, bi-directional communication between Internet-connected devices such as sensors, actuators, embedded micro-controllers, or smart appliances and the AWS Cloud. This enables you to collect telemetry data from multiple devices, and store and analyze the data. You can also create applications that enable your users to control these devices from their phones or tablets." />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="IoT Docs" />
      <meta name="this_doc_product" content="AWS IoT Core" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="assets/css/vendor4.css" rel="stylesheet" />
      <link href="assets/css/awsdocs-common.css" rel="stylesheet" /><script type="text/javascript" src="assets/js/vendor3.js" defer=""></script><script type="text/javascript" src="assets/js/vendor4.js" defer=""></script><script type="text/javascript" src="assets/js/vendor1.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-common.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-doc-app.js" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Use your Windows or Linux PC or Mac as an AWS IoT device - AWS IoT Core</title>
                        <meta name="pdf" content="iot-dg.pdf#using-laptop-as-device" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07JBRCWWZ" />
                        <meta name="github" content="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/using-laptop-as-device.md" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=210" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT%20Docs&amp;topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/using-laptop-as-device.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/using-laptop-as-device.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/using-laptop-as-device.html" />
                        <meta name="keywords" content="AWS IoT,IoT,Internet of Things" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="iot-dg.pdf#using-laptop-as-device" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a target="_blank" rel="noopener noreferrer" href="https://www.amazon.com/dp/B07JBRCWWZ" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/using-laptop-as-device.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iot/index.html">AWS IoT Core</a><a href="what-is-aws-iot.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#gs-pc-prereqs">Set up your personal computer</a><a href="#gs-pc-sdk-node">Install Git, Python, and the AWS IoT
                                 Device SDK for Python</a><a href="#gs-pc-python-app-run">Set up the policy and run the sample
                                 application</a><a href="#gs-pc-view-msg">View messages from the sample app in the AWS IoT console</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="using-laptop-as-device">Use your Windows or Linux
                                    PC or Mac as an AWS IoT device
                                 </h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>In this tutorial, you'll configure a personal computer for use with AWS IoT.
                                    These instructions support Windows and Linux PCs and Macs. To accomplish this,
                                    you need to install some software on your computer. If you don't want to install
                                    software on your computer, you might try <a href="./creating-a-virtual-thing.html">Create a virtual device with
                                       Amazon EC2</a>, which installs all software on a virtual machine. 
                                 </p>
                                 <div class="highlights" id="inline-topiclist">
                                    <p><strong>In this tutorial, you'll:</strong></p>
                                    <ul>
                                       <li><a href="#gs-pc-prereqs">Set up your personal computer</a></li>
                                       <li><a href="#gs-pc-sdk-node">Install Git, Python, and the AWS IoT
                                             Device SDK for Python</a></li>
                                       <li><a href="#gs-pc-python-app-run">Set up the policy and run the sample
                                             application</a></li>
                                       <li><a href="#gs-pc-view-msg">View messages from the sample app in the AWS IoT console</a></li>
                                    </ul>
                                 </div>
                                 
                                 <h2 id="gs-pc-prereqs">Set up your personal computer</h2>
                                 
                                 <p>To complete this tutorial, you need a Windows or Linux PC or a Mac with a
                                    connection to the internet.
                                 </p>
                                 
                                 <p>Before you continue to the next step, make sure you can open a command
                                    line window on your computer. Use <b>cmd.exe</b> on a Windows
                                    PC. On a Linux PC or a Mac, use <b>Terminal</b>. 
                                 </p>
                                  
                                 
                                 <h2 id="gs-pc-sdk-node">Install Git, Python, and the AWS IoT
                                    Device SDK for Python
                                 </h2>
                                 
                                 <p>In this section, you'll install Python, and the
                                    AWS IoT Device SDK for Python on your computer.
                                 </p>
                                  
                                 
                                 <h3 id="gs-pc-node-runtime">Install the latest version of  Git
                                    and Python
                                 </h3>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To download and install
                                          Git and Python on your computer</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Check to see if you have Git installed on your computer. Enter
                                             this command in the command line.
                                          </p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="bash ">git --version</code></pre>
                                          <p>If the command displays the Git version, Git is installed and
                                             you can continue to the next step.
                                          </p>
                                          
                                          <p>If the command displays an error, open <a href="https://git-scm.com/download" rel="noopener noreferrer" target="_blank"><span><code class="code">https://git-scm.com/download</code></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and
                                             install Git for your computer.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Check to see if you have already installed Python. Enter this
                                             command in the command line.
                                          </p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="bash ">python -V</code></pre>
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>If this command gives an error: <code class="code">Python was not
                                                      found</code>, it might be because your operating system
                                                   calls the Python v3.x executable as <code class="code">Python3</code>. In
                                                   that case, replace all instances of <code class="code">python</code> with
                                                   <code class="code">python3</code> and continue the remainder of this
                                                   tutorial.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p>If the command displays the Python version, Python is
                                             already installed. This tutorial requires Python v3.5 or later. 
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>If Python is installed, you can skip the rest of
                                             the steps in this section. If not, continue.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Open <a href="https://www.python.org/downloads/" rel="noopener noreferrer" target="_blank"><span>https://www.python.org/downloads/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and download the installer for
                                             your computer.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>If the download didn't automatically start to install, run the
                                             downloaded program to install Python. 
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Verify the installation of Python.</p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="bash ">python -V</code></pre>
                                          <p>Confirm that the command displays the Python version. If the
                                             Python version isn't displayed, try downloading and installing
                                             Python again.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                  
                                  
                                 
                                 <h3 id="gs-pc-python-intall-sdk">Install the AWS IoT Device SDK for
                                    Python
                                 </h3>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To install the AWS IoT Device SDK for Python on your
                                          computer</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Install v2 of the AWS IoT Device SDK for Python.</p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">python3 -m pip install awsiotsdk</code></pre>
                                          </li>
                                       <li>
                                          
                                          <p>Clone the AWS IoT Device SDK for Python repository into the
                                             aws-iot-device-sdk-python-v2 directory of your home directory.
                                             This procedure refers to the base directory for the files you're
                                             installing as <code class="replaceable">home</code>.
                                          </p>
                                          
                                          <p>The actual location of the <code class="replaceable">home</code>
                                             directory depends on your operating system.
                                          </p>
                                          
                                          <awsdocs-tabs>
                                             <dl style="display: none">
                                                
                                                <dt>Linux/macOS</dt>
                                                <dd tab-id="linux/macos">
                                                   
                                                   <p>In macOS and Linux, the <code class="replaceable">home</code>
                                                      directory is <code class="code">~</code>.
                                                   </p>
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="bash ">cd ~ 
git clone https://github.com/aws/aws-iot-device-sdk-python-v2.git</code></pre>                                                                                 
                                                   
                                                   </dd>
                                                
                                                <dt>Windows</dt>
                                                <dd tab-id="windows">
                                                   
                                                   <p>In Windows, you can find the
                                                      <code class="replaceable">home</code> directory path by
                                                      running this command in the <code class="code">cmd</code>
                                                      window.
                                                   </p>
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="bash ">echo %USERPROFILE%
cd %USERPROFILE%
git clone https://github.com/aws/aws-iot-device-sdk-python-v2.git</code></pre>                                                                                 
                                                   
                                                   </dd>
                                                
                                             </dl>
                                          </awsdocs-tabs>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>If you're using Windows PowerShell as opposed to
                                                   <b>cmd.exe</b>, then use the following
                                                   command. 
                                                </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
echo $home</code></pre></div>
                                          </div>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                  
                                  
                                 
                                 <h3 id="gs-pc-python-config-app">Prepare to run the sample
                                    applications
                                 </h3>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To prepare your system to run the sample application</b></p>
                                    <ul>
                                       <li>
                                          
                                          <p>Create the <code class="code">certs</code> directory. Into the
                                             <code class="code">certs</code> directory, copy the private key, device
                                             certificate, and root CA certificate files you saved when you
                                             created and registered the thing object in <a href="./create-iot-resources.html">Create AWS IoT resources</a>. The file names of each
                                             file in the destination directory should match those in the
                                             table.
                                          </p>
                                          
                                          <p> The commands in the next section assume that your key and
                                             certificate files are stored on your device as shown in this
                                             table.
                                          </p>
                                          
                                          <awsdocs-tabs>
                                             <dl style="display: none">
                                                
                                                <dt>Linux/macOS</dt>
                                                <dd tab-id="linux/macos">
                                                   
                                                   <p>Run this command to create the
                                                      <code class="code">certs</code> subdirectory that you'll use
                                                      when you run the sample applications.
                                                   </p>
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="bash ">mkdir ~/certs</code></pre>
                                                   <p>Into the new subdirectory, copy the files to the
                                                      destination file paths shown in the following
                                                      table.
                                                   </p>
                                                   
                                                   <div class="table-container">
                                                      <div class="table-contents">
                                                         <table id="w332aab7c15c21c11b9b9b3b2b5b1b3b7">
                                                            <thead>
                                                               <tr>
                                                                  <th class="table-header" colspan="100%">
                                                                     <div class="title">Certificate file names</div>
                                                                  </th>
                                                               </tr>
                                                               
                                                               <tr>
                                                                  
                                                                  <th>
                                                                     
                                                                     <p>File</p>
                                                                     
                                                                  </th>
                                                                  
                                                                  <th>
                                                                     
                                                                     <p>File path</p>
                                                                     
                                                                  </th>
                                                                  
                                                               </tr>
                                                               
                                                            </thead>
                                                            
                                                            <tr>
                                                               
                                                               <td>
                                                                  
                                                                  <p>Private key</p>
                                                                  
                                                               </td>
                                                               
                                                               <td>
                                                                  
                                                                  <p><code class="code">~/certs/private.pem.key</code></p>
                                                                  
                                                               </td>
                                                               
                                                            </tr>
                                                            
                                                            <tr>
                                                               
                                                               <td>
                                                                  
                                                                  <p>Device certificate</p>
                                                                  
                                                               </td>
                                                               
                                                               <td>
                                                                  
                                                                  <p><code class="code">~/certs/device.pem.crt</code></p>
                                                                  
                                                               </td>
                                                               
                                                            </tr>
                                                            
                                                            <tr>
                                                               
                                                               <td>
                                                                  
                                                                  <p>Root CA certificate</p>
                                                                  
                                                               </td>
                                                               
                                                               <td>
                                                                  
                                                                  <p><code class="code">~/certs/Amazon-root-CA-1.pem</code></p>
                                                                  
                                                               </td>
                                                               
                                                            </tr>
                                                            
                                                         </table>
                                                      </div>
                                                   </div>
                                                   
                                                   <p>Run this command to list the files in the
                                                      <code class="code">certs</code> directory and compare them to
                                                      those listed in the table.
                                                   </p>
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ls -l ~/certs</code></pre>
                                                   </dd>
                                                
                                                <dt>Windows</dt>
                                                <dd tab-id="windows">
                                                   
                                                   <p>Run this command to create the <code class="code">certs</code>
                                                      subdirectory that you'll use when you run the sample
                                                      applications.
                                                   </p>
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="bash ">mkdir %USERPROFILE%\certs</code></pre>
                                                   <p>Into the new subdirectory, copy the files to the
                                                      destination file paths shown in the following
                                                      table.
                                                   </p>
                                                   
                                                   <div class="table-container">
                                                      <div class="table-contents">
                                                         <table id="w332aab7c15c21c11b9b9b3b2b5b3b3b7">
                                                            <thead>
                                                               <tr>
                                                                  <th class="table-header" colspan="100%">
                                                                     <div class="title">Certificate file names</div>
                                                                  </th>
                                                               </tr>
                                                               
                                                               <tr>
                                                                  
                                                                  <th>
                                                                     
                                                                     <p>File</p>
                                                                     
                                                                  </th>
                                                                  
                                                                  <th>
                                                                     
                                                                     <p>File path</p>
                                                                     
                                                                  </th>
                                                                  
                                                               </tr>
                                                               
                                                            </thead>
                                                            
                                                            <tr>
                                                               
                                                               <td>
                                                                  
                                                                  <p>Private key</p>
                                                                  
                                                               </td>
                                                               
                                                               <td>
                                                                  
                                                                  <p><code class="code">%USERPROFILE%\certs\private.pem.key</code></p>
                                                                  
                                                               </td>
                                                               
                                                            </tr>
                                                            
                                                            <tr>
                                                               
                                                               <td>
                                                                  
                                                                  <p>Device certificate</p>
                                                                  
                                                               </td>
                                                               
                                                               <td>
                                                                  
                                                                  <p><code class="code">%USERPROFILE%\certs\device.pem.crt</code></p>
                                                                  
                                                               </td>
                                                               
                                                            </tr>
                                                            
                                                            <tr>
                                                               
                                                               <td>
                                                                  
                                                                  <p>Root CA certificate</p>
                                                                  
                                                               </td>
                                                               
                                                               <td>
                                                                  
                                                                  <p><code class="code">%USERPROFILE%\certs\Amazon-root-CA-1.pem</code></p>
                                                                  
                                                               </td>
                                                               
                                                            </tr>
                                                            
                                                         </table>
                                                      </div>
                                                   </div>
                                                   
                                                   <p>Run this command to list the files in the
                                                      <code class="code">certs</code> directory and compare them to
                                                      those listed in the table.
                                                   </p>
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">dir %USERPROFILE%\certs</code></pre>
                                                   </dd>
                                                
                                             </dl>
                                          </awsdocs-tabs>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                  
                                  
                                 
                                 <h2 id="gs-pc-python-app-run">Set up the policy and run the sample
                                    application
                                 </h2>
                                 
                                 <p>In this section, you'll set up your policy and run the
                                    <code class="code">pubsub.py</code> sample script found in the
                                    <code class="code">aws-iot-device-sdk-python-v2/samples</code> directory of the AWS IoT Device SDK for Python. This script shows how your device
                                    uses the MQTT
                                    library to publish and subscribe to MQTT messages.
                                 </p>
                                 
                                 <p>The <code class="code">pubsub.py</code> sample app subscribes to a topic,
                                    <code class="code">test/topic</code>, publishes 10 messages to that topic, and displays
                                    the messages as they're received from the message broker. 
                                 </p>
                                 
                                 <p>To run the <code class="code">pubsub.py</code> sample script, you
                                    need the following information: 
                                 </p>
                                 
                                 <div class="table-container">
                                    <div class="table-contents">
                                       <table id="w332aab7c15c21c11c11b9">
                                          <thead>
                                             <tr>
                                                <th class="table-header" colspan="100%">
                                                   <div class="title">Application parameter values</div>
                                                </th>
                                             </tr>
                                             
                                             <tr>
                                                
                                                <th>
                                                   
                                                   <p>Parameter</p>
                                                   
                                                </th>
                                                
                                                <th>
                                                   
                                                   <p>Where to find the value</p>
                                                   
                                                </th>
                                                
                                             </tr>
                                             
                                          </thead>
                                          
                                          <tr>
                                             
                                             <td><code class="replaceable">your-iot-endpoint</code></td>
                                             
                                             <td>
                                                
                                                <div class="orderedlist">
                                                    
                                                    
                                                   
                                                   <ol>
                                                      <li>
                                                         
                                                         <p>In the <a href="https://console.aws.amazon.com/iot/home" rel="noopener noreferrer" target="_blank"><span>AWS IoT
                                                                  console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, in the left menu, choose
                                                            <b>Settings</b>.
                                                         </p>
                                                         
                                                      </li>
                                                      <li>
                                                         
                                                         <p>On the <b>Settings</b> page,
                                                            your endpoint is displayed in the <b>Device
                                                               data endpoint</b> section.
                                                         </p>
                                                         
                                                      </li>
                                                   </ol>
                                                </div>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                       </table>
                                    </div>
                                 </div>
                                 
                                 <p>The <code class="replaceable">your-iot-endpoint</code> value has a format of:
                                    <code class="code"><code class="replaceable">endpoint_id</code>-ats.iot.<code class="replaceable">region</code>.amazonaws.com</code>,
                                    for example, <code class="code">a3qj468EXAMPLE-ats.iot.us-west-2.amazonaws.com</code>. 
                                 </p> 
                                 
                                 <p>Before running the script, make sure your thing's policy provides
                                    permissions for the sample script to connect, subscribe, publish, and
                                    receive. The Policy JSON is displayed in the following example. In the
                                    <code class="code">"Resource"</code> element, you should replace the region and
                                    account word with your AWS account and Region
                                    <code class="code">"arn:aws:iot:<code class="replaceable">region</code>:<code class="replaceable">account</code>.:topic/test/topic"</code>
                                    
                                 </p>    
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
<span>{</span>
"Version": "2012-10-17",
"Statement": [
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "iot:Publish",
            "iot:Receive"
        ],
        "Resource": [
            "arn:aws:iot:region:account:topic/test/topic"
        ]
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "iot:Subscribe"
        ],
        "Resource": [
            "arn:aws:iot:region:account:topicfilter/test/topic"
        ]
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "iot:Connect"
        ],
        "Resource": [
            "arn:aws:iot:region:account:client/test-*"
        ]
    }
]
}</code></pre>
                                 <awsdocs-tabs>
                                    <dl style="display: none">
                                       
                                       <dt>Linux/macOS</dt>
                                       <dd tab-id="linux/macos">
                                          
                                          <div class="procedure">
                                             <p class="title"><b>To run the sample script on Linux/macOS</b></p>
                                             <ol>
                                                <li>
                                                   
                                                   <p>In your command line window, navigate to the
                                                      <code class="code">~/aws-iot-device-sdk-python-v2/samples/node/pub_sub</code>
                                                      directory that the SDK created by using these commands.
                                                   </p>
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">cd ~/aws-iot-device-sdk-python-v2/samples</code></pre>
                                                   </li>
                                                <li>
                                                   
                                                   <p>In your command line window, replace
                                                      <code class="replaceable">your-iot-endpoint</code> as
                                                      indicated and run this command. 
                                                   </p>
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="bash ">python3 pubsub.py --endpoint your-iot-endpoint --root-ca ~/certs/Amazon-root-CA-1.pem --cert ~/certs/device.pem.crt --key ~/certs/private.pem.key</code></pre>
                                                   </li>
                                             </ol>
                                          </div>
                                          
                                       </dd>
                                       
                                       <dt>Windows</dt>
                                       <dd tab-id="windows">
                                          
                                          <div class="procedure">
                                             <p class="title"><b>To run the sample app on a Windows PC</b></p>
                                             <ol>
                                                <li>
                                                   
                                                   <p>In your command line window, navigate to the
                                                      <code class="code">%USERPROFILE%\aws-iot-device-sdk-python-v2\samples</code>
                                                      directory that the SDK created and install the sample
                                                      app by using these commands.
                                                   </p>
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">cd %USERPROFILE%\aws-iot-device-sdk-python-v2\samples</code></pre>
                                                   </li>
                                                <li>
                                                   
                                                   <p>In your command line window, replace
                                                      <code class="replaceable">your-iot-endpoint</code> as
                                                      indicated and run this command.
                                                   </p>
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">python3 pubsub.py --endpoint your-iot-endpoint --root-ca %USERPROFILE%\certs\Amazon-root-CA-1.pem --cert %USERPROFILE%\certs\device.pem.crt --key %USERPROFILE%\certs\private.pem.key</code></pre>
                                                   </li>
                                             </ol>
                                          </div>
                                          
                                       </dd>
                                       
                                    </dl>
                                 </awsdocs-tabs>
                                 
                                 <p>The sample script:</p>
                                 
                                 <div class="orderedlist">
                                     
                                     
                                     
                                     
                                    
                                    <ol>
                                       <li>
                                          
                                          <p>Connects to the AWS IoT service for your account.</p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Subscribes to the message topic, <b>test/topic</b>, and displays the messages it receives
                                             on that topic. 
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Publishes 10 messages to the topic, <b>test/topic</b>. 
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Displays output similar to the following:</p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">Publish received on topic test/topic
<span>{</span>"message":"Hello world!","sequence":1}
Publish received on topic test/topic
<span>{</span>"message":"Hello world!","sequence":2}
Publish received on topic test/topic
<span>{</span>"message":"Hello world!","sequence":3}
Publish received on topic test/topic
<span>{</span>"message":"Hello world!","sequence":4}
Publish received on topic test/topic
<span>{</span>"message":"Hello world!","sequence":5}
Publish received on topic test/topic
<span>{</span>"message":"Hello world!","sequence":6}
Publish received on topic test/topic
<span>{</span>"message":"Hello world!","sequence":7}
Publish received on topic test/topic
<span>{</span>"message":"Hello world!","sequence":8}
Publish received on topic test/topic
<span>{</span>"message":"Hello world!","sequence":9}
Publish received on topic test/topic
<span>{</span>"message":"Hello world!","sequence":10}</code></pre>
                                 <p>If you're having trouble running the sample app, review <a href="./gs-device-troubleshoot.html">Troubleshooting problems with the sample app</a>.
                                 </p> 
                                 
                                 <p>You can also add the <code class="code">--verbosity debug</code> parameter to the
                                    command line so the sample app displays detailed messages about what it’s
                                    doing. That information might help you correct the problem. 
                                 </p>
                                  
                                 
                                 <h2 id="gs-pc-view-msg">View messages from the sample app in the AWS IoT console</h2>
                                 
                                 <p>You can see the sample app's messages as they pass through the
                                    message broker by using the <b>MQTT client</b> in the
                                    <b>AWS IoT console</b>. 
                                 </p>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To view the MQTT messages published by the sample app</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Review <a href="./view-mqtt-messages.html">View MQTT messages with the AWS IoT MQTT
                                                client</a>. This helps you learn how
                                             to use the <b>MQTT client</b> in the <b>AWS IoT
                                                console</b> to view MQTT messages as they pass through
                                             the message broker.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          <p>Open the <b>MQTT client</b> in the <b>AWS IoT
                                                console</b>.
                                          </p>
                                       </li>
                                       <li>
                                          <p>Subscribe to the topic, <b>test/topic</b>.
                                          </p>
                                       </li>
                                       <li>
                                          
                                          <p>In your command line window, run
                                             the sample app again and watch the messages in the <b>MQTT
                                                client</b> in the <b>AWS IoT
                                                console</b>.
                                          </p>
                                          
                                          <awsdocs-tabs>
                                             <dl style="display: none">
                                                
                                                <dt>Linux/macOS</dt>
                                                <dd tab-id="linux/macos">
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="bash ">cd ~/aws-iot-device-sdk-python-v2/samples
python3 pubsub.py --topic test/topic --root-ca ~/certs/Amazon-root-CA-1.pem --cert ~/certs/device.pem.crt --key ~/certs/private.pem.key --endpoint <code class="replaceable">your-iot-endpoint</code></code></pre>
                                                   </dd>
                                                
                                                <dt>Windows</dt>
                                                <dd tab-id="windows">
                                                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="bash ">cd %USERPROFILE%\aws-iot-device-sdk-python-v2\samples
python3 pubsub.py --topic test/topic --root-ca %USERPROFILE%\certs\Amazon-root-CA-1.pem --cert %USERPROFILE%\certs\device.pem.crt --key %USERPROFILE%\certs\private.pem.key --endpoint <code class="replaceable">your-iot-endpoint</code></code></pre>                                            
                                                   </dd>
                                                
                                             </dl>
                                          </awsdocs-tabs>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="./creating-a-virtual-thing.html">Create a virtual device with
                                       Amazon EC2
                                    </div>
                                    <div id="next" class="next-link" accesskey="n" href="./connecting-to-existing-device.html">Connect a Raspberry
                                       Pi or another device
                                    </div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/using-laptop-as-device.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/using-laptop-as-device.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS IoT Core';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>
</html>