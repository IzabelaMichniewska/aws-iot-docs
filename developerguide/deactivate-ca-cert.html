<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Deactivate a CA certificate - AWS IoT Core</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="assets" />
      <meta name="target_state" content="deactivate-ca-cert" />
      <meta name="default_state" content="deactivate-ca-cert" />
      <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/iot/latest/developerguide/deactivate-ca-cert.html" />
      <meta name="description" content="When a certificate authority (CA) certificate is enabled for automatic client certificate registration, AWS IoT checks the CA certificate used to sign the client certificate to make sure the CA is ACTIVE . If the CA certificate is INACTIVE , AWS IoT doesn't allow the client certificate to be registered." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS IoT Core" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="AWS IoT provides secure, bi-directional communication between Internet-connected devices such as sensors, actuators, embedded micro-controllers, or smart appliances and the AWS Cloud. This enables you to collect telemetry data from multiple devices, and store and analyze the data. You can also create applications that enable your users to control these devices from their phones or tablets." />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="IoT Docs" />
      <meta name="this_doc_product" content="AWS IoT Core" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="assets/css/vendor4.css" rel="stylesheet" />
      <link href="assets/css/awsdocs-common.css" rel="stylesheet" /><script type="text/javascript" src="assets/js/vendor3.js" defer=""></script><script type="text/javascript" src="assets/js/vendor4.js" defer=""></script><script type="text/javascript" src="assets/js/vendor1.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-common.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-doc-app.js" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Deactivate a CA certificate - AWS IoT Core</title>
                        <meta name="pdf" content="iot-dg.pdf#deactivate-ca-cert" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07JBRCWWZ" />
                        <meta name="github" content="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/deactivate-ca-cert.md" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=210" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT%20Docs&amp;topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/deactivate-ca-cert.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/deactivate-ca-cert.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/deactivate-ca-cert.html" />
                        <meta name="keywords" content="AWS IoT,IoT,Internet of Things" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="iot-dg.pdf#deactivate-ca-cert" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a target="_blank" rel="noopener noreferrer" href="https://www.amazon.com/dp/B07JBRCWWZ" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/deactivate-ca-cert.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iot/index.html">AWS IoT Core</a><a href="what-is-aws-iot.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#deactivate-ca-cert-console">Deactivate a CA certificate
                                 (console)</a><a href="#deactivate-ca-cert-cli">Deactivate a CA certificate
                                 (CLI)</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="deactivate-ca-cert">Deactivate a CA certificate</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>When a certificate authority (CA) certificate is enabled for automatic
                                    client certificate registration, AWS IoT checks the CA certificate used to
                                    sign the client certificate to make sure the CA is <code class="code">ACTIVE</code>. If
                                    the CA certificate is <code class="code">INACTIVE</code>, AWS IoT doesn't allow the client
                                    certificate to be registered.
                                 </p>
                                 <p>By setting the CA certificate as <code class="code">INACTIVE</code>, you prevent any
                                    new client certificates issued by the CA from being registered
                                    automatically.
                                 </p>
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>Any registered client certificates that were signed by the compromised
                                          CA certificate continue to work until you explicitly revoke each one of
                                          them.
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <h2 id="deactivate-ca-cert-console">Deactivate a CA certificate
                                    (console)
                                 </h2>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To deactivate a CA certificate using the AWS IoT console</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Sign in to the AWS Management Console and open the <a href="https://console.aws.amazon.com/iot/home" rel="noopener noreferrer" target="_blank"><span>AWS IoT
                                                   console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the left navigation pane, choose
                                             <b>Secure</b>, choose
                                             <b>CAs</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the list of certificate authorities, find the one that you
                                             want to deactivate, and open the option menu by using the
                                             ellipsis icon.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>On the option menu, choose
                                             <b>Deactivate</b>.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 <p>The certificate authority should show as <b>Inactive</b>
                                    in the list.
                                 </p>
                                 
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>The AWS IoT console does not provide a way to list the certificates
                                          that were signed by the CA you deactivated. For an AWS CLI option to list
                                          those certificates, see <a href="#deactivate-ca-cert-cli">Deactivate a CA certificate
                                             (CLI)</a>.
                                       </p>
                                    </div>
                                 </div>
                                  
                                 
                                 <h2 id="deactivate-ca-cert-cli">Deactivate a CA certificate
                                    (CLI)
                                 </h2>
                                 
                                 <p>The AWS CLI provides the <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/iot/update-ca-certificate.html" rel="noopener noreferrer" target="_blank"><span><b>update-ca-certificate</b></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> command to
                                    deactivate a CA certificate.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot update-ca-certificate \
    --certificate-id <code class="replaceable">certificateId</code> \
    --new-status INACTIVE</code></pre>
                                 <p>Use the <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/iot/list-certificates-by-ca.html" rel="noopener noreferrer" target="_blank"><span><b>list-certificates-by-ca</b></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> command to
                                    get a list of all registered client certificates that were signed by the
                                    specified CA. For each client certificate signed by the specified CA
                                    certificate, use the <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/iot/update-certificate.html" rel="noopener noreferrer" target="_blank"><span><b>update-certificate</b></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> command to revoke
                                    the client certificate to prevent it from being used.
                                 </p>
                                 
                                 <p>Use the <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/iot/describe-ca-certificate.html" rel="noopener noreferrer" target="_blank"><span><b>describe-ca-certificate</b></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> command to
                                    see the status of the CA certificate.
                                 </p>
                                 
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="./register-CA-cert.html">Register your CA certificate</div>
                                    <div id="next" class="next-link" accesskey="n" href="./create-device-cert.html">Create a client certificate using your
                                       CA certificate
                                    </div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/deactivate-ca-cert.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/deactivate-ca-cert.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS IoT Core';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>
</html>