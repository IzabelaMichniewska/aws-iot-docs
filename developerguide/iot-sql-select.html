<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>SELECT clause - AWS IoT Core</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="assets" />
      <meta name="target_state" content="iot-sql-select" />
      <meta name="default_state" content="iot-sql-select" />
      <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/iot/latest/developerguide/iot-sql-select.html" />
      <meta name="description" content="Use the SELECT cause to extract information from incoming MQTT messages in AWS IoT." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS IoT Core" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="AWS IoT provides secure, bi-directional communication between Internet-connected devices such as sensors, actuators, embedded micro-controllers, or smart appliances and the AWS Cloud. This enables you to collect telemetry data from multiple devices, and store and analyze the data. You can also create applications that enable your users to control these devices from their phones or tablets." />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="IoT Docs" />
      <meta name="this_doc_product" content="AWS IoT Core" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="assets/css/vendor4.css" rel="stylesheet" />
      <link href="assets/css/awsdocs-common.css" rel="stylesheet" /><script type="text/javascript" src="assets/js/vendor3.js" defer=""></script><script type="text/javascript" src="assets/js/vendor4.js" defer=""></script><script type="text/javascript" src="assets/js/vendor1.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-common.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-doc-app.js" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>SELECT clause - AWS IoT Core</title>
                        <meta name="pdf" content="iot-dg.pdf#iot-sql-select" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07JBRCWWZ" />
                        <meta name="github" content="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/iot-sql-select.md" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=210" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT%20Docs&amp;topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/iot-sql-select.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/iot-sql-select.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/iot-sql-select.html" />
                        <meta name="keywords" content="AWS IoT,IoT,Internet of Things" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="iot-dg.pdf#iot-sql-select" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a target="_blank" rel="noopener noreferrer" href="https://www.amazon.com/dp/B07JBRCWWZ" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/iot-sql-select.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iot/index.html">AWS IoT Core</a><a href="what-is-aws-iot.html">Developer Guide</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="iot-sql-select">SELECT clause</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The AWS IoT SELECT clause is essentially the same as the ANSI SQL SELECT clause, with
                                    some minor differences.
                                 </p>
                                 <p>The SELECT clause supports <a href="./iot-sql-data-types.html">Data types</a>, <a href="./iot-sql-operators.html">Operators</a>, <a href="./iot-sql-functions.html">Functions</a>, <a href="./iot-sql-literals.html">Literals</a>, <a href="./iot-sql-case.html">Case statements</a>, <a href="./iot-sql-json.html">JSON extensions</a>, <a href="./iot-substitution-templates.html">Substitution templates</a>, <a href="./iot-sql-nested-queries.html">Nested object queries</a>, and <a href="./binary-payloads.html">Binary payloads</a>.
                                 </p>
                                 <p>You can use the SELECT clause to extract information from incoming MQTT messages.
                                    You
                                    can also use <code class="code">SELECT *</code> to retrieve the entire incoming message payload. For
                                    example:
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Incoming payload published on topic <code class="code" copy="true">'topic/subtopic'</code>: <code class="code" copy="true"><span>{</span>"color":"red", "temperature":50}</code>
SQL statement: <code class="code" copy="true">SELECT * FROM 'topic/subtopic'</code>
Outgoing payload: <code class="code" copy="true"><span>{</span>"color":"red", "temperature":50}</code></code></pre><p>If the payload is a JSON object, you can reference keys in the object. Your outgoing
                                    payload contains the key-value pair. For example:
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Incoming payload published on topic <code class="code" copy="true">'topic/subtopic'</code>: <code class="code" copy="true"><span>{</span>"color":"red", "temperature":50}</code>
SQL statement: <code class="code" copy="true">SELECT color FROM 'topic/subtopic'</code>
Outgoing payload: <code class="code" copy="true"><span>{</span>"color":"red"}</code></code></pre><p>You can use the AS keyword to rename keys. For example:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Incoming payload published on topic <code class="code" copy="true">'topic/subtopic'</code>:<code class="code" copy="true"><span>{</span>"color":"red", "temperature":50}</code>
SQL:<code class="code" copy="true">SELECT color AS my_color FROM 'topic/subtopic'</code>
Outgoing payload: <code class="code" copy="true"><span>{</span>"my_color":"red"}</code></code></pre><p>You can select multiple items by separating them with a comma. For example:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Incoming payload published on topic <code class="code" copy="true">'topic/subtopic'</code>: <code class="code" copy="true"><span>{</span>"color":"red", "temperature":50}</code>
SQL: <code class="code" copy="true">SELECT color as my_color, temperature as fahrenheit FROM 'topic/subtopic'</code>
Outgoing payload: <code class="code" copy="true"><span>{</span>"my_color":"red","fahrenheit":50}</code></code></pre><p>You can select multiple items including '*' to add items to the incoming payload.
                                    For
                                    example:
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Incoming payload published on topic <code class="code" copy="true">'topic/subtopic'</code>: <span>{</span>"color":"red", "temperature":50}
SQL: SELECT *, 15 as speed FROM 'topic/subtopic'
Outgoing payload: <span>{</span>"color":"red", "temperature":50, "speed":15}</code></pre><p>You can use the <code class="code">"VALUE"</code> keyword to produce outgoing payloads that are not
                                    JSON objects. With SQL version <code class="code">2015-10-08</code>, you can select only one item.
                                    With SQL version <code class="code">2016-03-23</code> or later, you can also select an array to
                                    output as a top-level object.
                                 </p>
                                 <div class="example">
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Incoming payload published on topic <code class="code" copy="true">'topic/subtopic'</code>: <code class="code" copy="true"><span>{</span>"color":"red", "temperature":50}</code>
SQL: <code class="code" copy="true">SELECT VALUE color FROM 'topic/subtopic'</code>
Outgoing payload: <code class="code" copy="true">"red"</code></code></pre></div>
                                 </div>
                                 <p>You can use <code class="code">'.'</code> syntax to drill into nested JSON objects in the incoming
                                    payload. For example:
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Incoming payload published on topic <code class="code" copy="true">'topic/subtopic'</code>: <code class="code" copy="true"><span>{</span>"color":<span>{</span>"red":255,"green":0,"blue":0}, "temperature":50}</code>
SQL: <code class="code" copy="true">SELECT color.red as red_value FROM 'topic/subtopic'</code>
Outgoing payload: <code class="code" copy="true"><span>{</span>"red_value":255}</code></code></pre><p>For information about how to use JSON object and property names that include reserved
                                    characters, such as numbers or the hyphen (minus) character, see <a href="./iot-sql-json.html">JSON extensions</a></p>
                                 <p>You can use functions (see <a href="./iot-sql-functions.html">Functions</a>) to transform the incoming payload. You can use
                                    parentheses for grouping. For example:
                                 </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Incoming payload published on topic <code class="code" copy="true">'topic/subtopic'</code>: <code class="code" copy="true"><span>{</span>"color":"red", "temperature":50}</code>
SQL: <code class="code" copy="true">SELECT (temperature – 32) * 5 / 9 AS celsius, upper(color) as my_color FROM 'topic/subtopic'</code>
Outgoing payload: <code class="code" copy="true"><span>{</span>"celsius":10,"my_color":"RED"}</code></code></pre><awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="./iot-sql-reference.html">AWS IoT SQL reference</div>
                                    <div id="next" class="next-link" accesskey="n" href="./iot-sql-from.html">FROM clause</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/iot-sql-select.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/iot-sql-select.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS IoT Core';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>
</html>