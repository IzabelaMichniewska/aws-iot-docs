<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Attach a thing or policy to a client certificate - AWS IoT Core</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="assets" />
      <meta name="target_state" content="attach-to-cert" />
      <meta name="default_state" content="attach-to-cert" />
      <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/iot/latest/developerguide/attach-to-cert.html" />
      <meta name="description" content="When you create and register a certificate separate from an AWS IoT thing, it will not have any policies that authorize any AWS IoT operations, nor will it be associated with any AWS IoT thing object. This section describes how to add these relationships to a registered certificate." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS IoT Core" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="AWS IoT provides secure, bi-directional communication between Internet-connected devices such as sensors, actuators, embedded micro-controllers, or smart appliances and the AWS Cloud. This enables you to collect telemetry data from multiple devices, and store and analyze the data. You can also create applications that enable your users to control these devices from their phones or tablets." />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="IoT Docs" />
      <meta name="this_doc_product" content="AWS IoT Core" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="assets/css/vendor4.css" rel="stylesheet" />
      <link href="assets/css/awsdocs-common.css" rel="stylesheet" /><script type="text/javascript" src="assets/js/vendor3.js" defer=""></script><script type="text/javascript" src="assets/js/vendor4.js" defer=""></script><script type="text/javascript" src="assets/js/vendor1.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-common.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-doc-app.js" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Attach a thing or policy to a client certificate - AWS IoT Core</title>
                        <meta name="pdf" content="iot-dg.pdf#attach-to-cert" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07JBRCWWZ" />
                        <meta name="github" content="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/attach-to-cert.md" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=210" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT%20Docs&amp;topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/attach-to-cert.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/attach-to-cert.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/attach-to-cert.html" />
                        <meta name="keywords" content="AWS IoT,IoT,Internet of Things" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="iot-dg.pdf#attach-to-cert" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a target="_blank" rel="noopener noreferrer" href="https://www.amazon.com/dp/B07JBRCWWZ" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/attach-to-cert.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iot/index.html">AWS IoT Core</a><a href="what-is-aws-iot.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#attach-to-cert-thing-console">Attach a thing to a client certificate (console)</a><a href="#attach-to-cert-policy-console">Attach a policy to a client certificate (console)</a><a href="#attach-to-cert-thing-cli">Attach a thing to a client certificate (CLI)</a><a href="#attach-to-cert-policy-cli">Attach a policy to a client certificate (CLI)</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="attach-to-cert">Attach a thing or policy to a client
                                    certificate
                                 </h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>When you create and register a certificate separate from an AWS IoT thing,
                                    it will not have any policies that authorize any AWS IoT operations, nor will it be
                                    associated with any AWS IoT thing object. This section describes how to add these
                                    relationships to a registered certificate.
                                 </p>
                                 <div class="awsdocs-note awsdocs-important">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Important</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>To complete these procedures, you must have already created the thing or policy that
                                          you want
                                          to attach to the certificate.
                                       </p>
                                    </div>
                                 </div>
                                 <p>The certificate authenticates a device with AWS IoT so that it can connect.
                                    Attaching the certificate to a thing resource establishes the relationship
                                    between the device (by way of the certificate) and the thing resource. To
                                    authorize the device to perform AWS IoT actions, such as to allow the device to
                                    connect and publish messages, an appropriate policy must be attached to the
                                    device's certificate. 
                                 </p>
                                 
                                 <h2 id="attach-to-cert-thing-console">Attach a thing to a client certificate (console)</h2>
                                 
                                 <p>You will need the name of the thing object to complete this
                                    procedure.
                                 </p>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To attach a thing object to a registered certificate</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Sign in to the AWS Management Console and open the <a href="https://console.aws.amazon.com/iot/home" rel="noopener noreferrer" target="_blank"><span>AWS IoT
                                                   console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the left navigation pane, choose <b>Secure</b>,
                                             choose <b>Certificates</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the list of certificates, locate the certificate to which you want
                                             to attach a policy, open the certificate's option menu by choosing the ellipsis
                                             icon, and choose <b>Attach thing</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the pop-up, locate the name of the thing you want to attach to
                                             the certificate, choose its check box, and choose
                                             <b>Attach</b>.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 <p>The thing object should now appear in the list of things on the certificate's details
                                    page.
                                 </p>
                                  
                                 
                                 <h2 id="attach-to-cert-policy-console">Attach a policy to a client certificate (console)</h2>
                                 
                                 <p>You will need the name of the policy object to complete this
                                    procedure.
                                 </p>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To attach a policy object to a registered certificate</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Sign in to the AWS Management Console and open the <a href="https://console.aws.amazon.com/iot/home" rel="noopener noreferrer" target="_blank"><span>AWS IoT
                                                   console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the left navigation pane, choose <b>Secure</b>,
                                             choose <b>Certificates</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the list of certificates, locate the certificate to which you want
                                             to attach a policy, open the certificate's option menu by choosing the ellipsis
                                             icon, and choose <b>Attach policy</b>.
                                             
                                          </p>
                                          
                                       </li>
                                       <li>
                                          <p>In the pop-up, locate the name of the policy you want to attach to the certificate,
                                             choose its
                                             check box, and choose <b>Attach</b>.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 <p>The policy object should now appear in the list of policies on the certificate's details
                                    page.
                                 </p>
                                  
                                 
                                 <h2 id="attach-to-cert-thing-cli">Attach a thing to a client certificate (CLI)</h2>
                                 
                                 <p>The AWS CLI provides the <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/iot/attach-thing-principal.html" rel="noopener noreferrer" target="_blank"><span><b>attach-thing-principal</b></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> command to attach a
                                    thing object to a certificate.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot attach-thing-principal \
    --principal <code class="replaceable">certificateArn</code> \
    --thing-name <code class="replaceable">thingName</code>
                    </code></pre>                    
                                  
                                 <h2 id="attach-to-cert-policy-cli">Attach a policy to a client certificate (CLI)</h2>
                                 
                                 <p>The AWS CLI provides the <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/iot/attach-policy.html" rel="noopener noreferrer" target="_blank"><span><b>attach-policy</b></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> command to attach a
                                    policy object to a certificate.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot attach-policy \
    --target <code class="replaceable">certificateArn</code> \
    --policy-name <code class="replaceable">policyName</code>
                    </code></pre>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="./activate-or-deactivate-device-cert.html">Activate or deactivate a
                                       client certificate
                                    </div>
                                    <div id="next" class="next-link" accesskey="n" href="./revoke-ca-cert.html">Revoke a client certificate</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/attach-to-cert.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/attach-to-cert.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS IoT Core';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>
</html>