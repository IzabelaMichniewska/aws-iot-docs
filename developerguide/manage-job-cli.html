<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Creating and managing jobs (CLI) - AWS IoT Core</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="assets" />
      <meta name="target_state" content="manage-job-cli" />
      <meta name="default_state" content="manage-job-cli" />
      <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/iot/latest/developerguide/manage-job-cli.html" />
      <meta name="description" content="This section describes how to create and manage jobs." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS IoT Core" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="AWS IoT provides secure, bi-directional communication between Internet-connected devices such as sensors, actuators, embedded micro-controllers, or smart appliances and the AWS Cloud. This enables you to collect telemetry data from multiple devices, and store and analyze the data. You can also create applications that enable your users to control these devices from their phones or tablets." />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="IoT Docs" />
      <meta name="this_doc_product" content="AWS IoT Core" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="assets/css/vendor4.css" rel="stylesheet" />
      <link href="assets/css/awsdocs-common.css" rel="stylesheet" /><script type="text/javascript" src="assets/js/vendor3.js" defer=""></script><script type="text/javascript" src="assets/js/vendor4.js" defer=""></script><script type="text/javascript" src="assets/js/vendor1.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-common.js" defer=""></script><script type="text/javascript" src="assets/js/awsdocs-doc-app.js" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Creating and managing jobs (CLI) - AWS IoT Core</title>
                        <meta name="pdf" content="iot-dg.pdf#manage-job-cli" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07JBRCWWZ" />
                        <meta name="github" content="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/manage-job-cli.md" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=210" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT%20Docs&amp;topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/manage-job-cli.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/manage-job-cli.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/iot/latest/developerguide/manage-job-cli.html" />
                        <meta name="keywords" content="AWS IoT,IoT,Internet of Things" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="iot-dg.pdf#manage-job-cli" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a target="_blank" rel="noopener noreferrer" href="https://www.amazon.com/dp/B07JBRCWWZ" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-iot-docs/tree/master/developerguide/manage-job-cli.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iot/index.html">AWS IoT Core</a><a href="what-is-aws-iot.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#create-job">Create jobs</a><a href="#update-job">Update a job</a><a href="#cancel-job">Cancel a job</a><a href="#cancel-job-execution">Cancel a job execution</a><a href="#delete-job">Delete a job</a><a href="#get-job-document">Get a job document</a><a href="#list-jobs">List jobs</a><a href="#describe-job">Describe a job</a><a href="#list-job-executions-for-job">List executions for a job</a><a href="#list-job-executions-for-thing">List job executions for a
                                 thing</a><a href="#describe-job-execution">Describe job execution</a><a href="#delete-job-execution">Delete job execution</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="manage-job-cli">Creating and managing jobs (CLI)</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>This section describes how to create and manage jobs.</p>
                                 
                                 <h2 id="create-job">Create jobs</h2>
                                 
                                 <p>You use the <b>CreateJob</b> command to create an AWS IoT job. The
                                    job is queued for execution on the targets (things or thing groups) that you
                                    specify. To create an AWS IoT job, you need a job document that can be included in
                                    the body of the request or as a link to an Amazon S3 document. If the job includes
                                    downloading files using presigned Amazon S3 URLs, you need an IAM role ARN that has
                                    permission to download the file and grants permission to the AWS IoT Jobs service
                                    to assume the role.
                                 </p>
                                  
                                 
                                 <h3 id="code-signing-with-jobs">Code signing with jobs</h3>
                                 
                                 <p>If you are using code signing for AWS IoT, you must start a code signing job
                                    and include the output in your job document. Use the <a href="https://docs.aws.amazon.com/signer/latest/developerguide/api-startsigningjob.html">start-signing-job</a> command to create a code signing job.
                                    <code class="code">start-signing-job</code> returns a job ID. Use the
                                    <b>describe-signing-job</b> command to get the Amazon S3 location
                                    where the signature is stored. You can then download the signature from
                                    Amazon S3. For more information about code signing jobs, see <a href="https://docs.aws.amazon.com/signer/latest/developerguide/Welcome.html">Code signing for AWS IoT</a>.
                                 </p>
                                 
                                 <p>Your job document must contain a presigned URL placeholder for your code
                                    file and the JSON signature output placed in an Amazon S3 bucket using the
                                    <b>start-signing-job</b> command, enclosed in a
                                    <code class="code">codesign</code> element:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
    "presign": "$<span>{</span>aws:iot:s3-presigned-url:https://s3.region.amazonaws.com/bucket/image}",
    "codesign": <span>{</span>
        "rawPayloadSize": <code class="replaceable">&lt;image-file-size&gt;</code>,
        "signature": <code class="replaceable">&lt;signature&gt;</code>,
        "signatureAlgorithm": <code class="replaceable">&lt;signature-algorithm&gt;</code>,
        "payloadLocation": <span>{</span>
            "s3": <span>{</span>
                "bucketName": <code class="replaceable">&lt;my-s3-bucket&gt;</code>,
                "key": <code class="replaceable">&lt;my-code-file&gt;</code>,
                "version": <code class="replaceable">&lt;code-file-version-id&gt;</code>
            }
        }
    }
}</code></pre>
                                  
                                  
                                 <h3 id="create-job-with-document">Creating a job with a job
                                    document
                                 </h3>
                                 
                                 <p>The following command shows how to create a job using a job document
                                    (<code class="replaceable">job-document.json</code>) stored in an Amazon S3 bucket
                                    (<code class="replaceable">jobBucket</code>) and a role with permission to
                                    download files from Amazon S3 (<code class="replaceable">S3DownloadRole</code>).
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot create-job  \
      --job-id 010  \
      --targets <code class="replaceable">arn:aws:iot:us-east-1:123456789012:thing/thingOne</code>  \
      --document-source <code class="replaceable">https://s3.amazonaws.com/my-s3-bucket/job-document.json</code>  \
      --timeout-config inProgressTimeoutInMinutes=<code class="replaceable">100</code> \
      --job-executions-rollout-config "<span>{</span> \"exponentialRate\": <span>{</span> \"baseRatePerMinute\": <code class="replaceable">50</code>, \"incrementFactor\": <code class="replaceable">2</code>, \"rateIncreaseCriteria\": <span>{</span> \"numberOfNotifiedThings\": <code class="replaceable">1000</code>, \"numberOfSucceededThings\": <code class="replaceable">1000</code>}}, \"maximumPerMinute\": <code class="replaceable">1000</code>}" \
      --abort-config "<span>{</span> \"criteriaList\": [ <span>{</span> \"action\": \"<code class="replaceable">CANCEL</code>\", \"failureType\": \"<code class="replaceable">FAILED</code>\", \"minNumberOfExecutedThings\": <code class="replaceable">100</code>, \"thresholdPercentage\": <code class="replaceable">20</code>}, <span>{</span> \"action\": \"<code class="replaceable">CANCEL</code>\", \"failureType\": \"<code class="replaceable">TIMED_OUT</code>\", \"minNumberOfExecutedThings\": <code class="replaceable">200</code>, \"thresholdPercentage\": <code class="replaceable">50</code>}]}" \          
      --presigned-url-config "<span>{</span>\"roleArn\":\"<code class="replaceable">arn:aws:iam::123456789012:role/S3DownloadRole</code>\", \"expiresInSec\":3600}" </code></pre>
                                 <p>The job is executed on <code class="replaceable">thingOne</code>.
                                 </p>
                                 
                                 <p>The optional <code class="code">timeout-config</code> parameter specifies the amount of
                                    time each device has to finish its execution of the job. The timer starts
                                    when the job execution status is set to <code class="code">IN_PROGRESS</code>. If the job
                                    execution status is not set to another terminal state
                                     before the time expires, it is
                                    set to <code class="code">TIMED_OUT</code>.
                                 </p>
                                 
                                 <p>The in-progress timer can't be updated and applies to all job executions
                                    for the job. Whenever a job execution remains in the
                                    <code class="code">IN_PROGRESS</code> state for longer than this interval, the job
                                    execution fails and switches to the terminal <code class="code">TIMED_OUT</code> status.
                                    AWS IoT also publishes an MQTT notification.
                                 </p>
                                 
                                 
                                 <p>For more information about creating configurations about job rollouts and
                                    aborts, see <a href="job-rollout-abort.html" rel="noopener noreferrer" target="_blank">Job Rollout and Abort
                                       Configuration</a>.
                                 </p>
                                 
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>Job documents that are specified as Amazon S3 files are retrieved at the
                                          time you create the job. Changing the contents of the Amazon S3 file you used
                                          as the source of your job document after you have created the job does
                                          not change what is sent to the targets of the job.
                                       </p>
                                    </div>
                                 </div>
                                  
                                  
                                 
                                 <h2 id="update-job">Update a job</h2>
                                 
                                 <p>You use the <b>UpdateJob</b> command to update a job. You can
                                    update the <code class="code">description</code>, <code class="code">presignedUrlConfig</code>,
                                    <code class="code">jobExecutionsRolloutConfig</code>, <code class="code">abortConfig</code>, and
                                    <code class="code">timeoutConfig</code> fields of a job.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot update-job  \
  --job-id 010  \
  --description "updated description" \
  --timeout-config inProgressTimeoutInMinutes=<code class="replaceable">100</code> \
  --job-executions-rollout-config "<span>{</span> \"exponentialRate\": <span>{</span> \"baseRatePerMinute\": <code class="replaceable">50</code>, \"incrementFactor\": <code class="replaceable">2</code>, \"rateIncreaseCriteria\": <span>{</span> \"numberOfNotifiedThings\": <code class="replaceable">1000</code>, \"numberOfSucceededThings\": <code class="replaceable">1000</code>}, \"maximumPerMinute\": <code class="replaceable">1000</code>}}" \
  --abort-config "<span>{</span> \"criteriaList\": [ <span>{</span> \"action\": \"<code class="replaceable">CANCEL</code>\", \"failureType\": \"<code class="replaceable">FAILED</code>\", \"minNumberOfExecutedThings\": <code class="replaceable">100</code>, \"thresholdPercentage\": <code class="replaceable">20</code>}, <span>{</span> \"action\": \"<code class="replaceable">CANCEL</code>\", \"failureType\": \"<code class="replaceable">TIMED_OUT</code>\", \"minNumberOfExecutedThings\": <code class="replaceable">200</code>, \"thresholdPercentage\": <code class="replaceable">50</code>}]}" \          
  --presigned-url-config "<span>{</span>\"roleArn\":\"<code class="replaceable">arn:aws:iam::123456789012:role/S3DownloadRole</code>\", \"expiresInSec\":3600}" </code></pre>
                                 <p>For more information, see <a href="job-rollout-abort.html" rel="noopener noreferrer" target="_blank">Job Rollout and
                                       Abort Configuration</a>.
                                 </p>
                                  
                                 
                                 <h2 id="cancel-job">Cancel a job</h2>
                                 
                                 <p>You use the <b>CancelJob</b> command to cancel a job. Canceling a
                                    job stops AWS IoT from rolling out any new job executions for the job. It also
                                    cancels any job executions that are in a <code class="code">QUEUED</code> state. AWS IoT leaves
                                    any job executions in a terminal state  untouched because
                                    the device has already completed the job. If the status of a job execution is
                                    <code class="code">IN_PROGRESS</code>, it also remains untouched unless you use the
                                    optional <code class="code">--force</code> parameter.
                                 </p>
                                 
                                 <p>The following command shows how to cancel a job with ID 010.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot cancel-job --job-id 010</code></pre>
                                 <p>The command displays the following output:</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "jobArn": "string",
    "jobId": "string",
    "description": "string"
}
                </code></pre>
                                 <p>When you cancel a job, job executions that are in a <code class="code">QUEUED</code> state
                                    are canceled. Job executions that are in an <code class="code">IN_PROGRESS</code> state are
                                    canceled if you specify the optional <code class="code">--force</code> parameter. Job
                                    executions in a terminal state are not canceled.
                                 </p>
                                 
                                 <div class="awsdocs-note awsdocs-warning">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Warning</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>Canceling a job that is in the <code class="code">IN_PROGRESS</code> state (by setting
                                          the <code class="code">--force</code> parameter) cancels any job executions that are in
                                          progress and causes the device that is executing the job to be unable to
                                          update the job execution status. Use caution and make sure that each device
                                          executing a canceled job can recover to a valid state.
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <p>The status of a canceled job or of one of its job executions is eventually
                                    consistent. AWS IoT stops scheduling new job executions and <code class="code">QUEUED</code>
                                    job executions for that job to devices as soon as possible. Changing the status
                                    of a job execution to <code class="code">CANCELED</code> might take some time, depending on
                                    the number of devices and other factors.
                                 </p>
                                 
                                 <p>If a job is canceled because it has met the criteria defined by an
                                    <code class="code">AbortConfig</code> object, the service adds auto-populated values for
                                    the <code class="code">comment</code> and <code class="code">reasonCode</code> fields. You can create your
                                    own values for <code class="code">reasonCode</code> when the job cancellation is
                                    user-driven.
                                 </p>
                                  
                                 
                                 <h2 id="cancel-job-execution">Cancel a job execution</h2>
                                 
                                 <p>You use the <b>CancelJobExecution</b> command to cancel a job
                                    execution on a device. It cancels a job execution that is in a
                                    <code class="code">QUEUED</code> state. If you want to cancel a job execution that is in
                                    progress, you must use the <code class="code">--force</code> parameter.
                                 </p>
                                 
                                 <p>The following command shows how to cancel the job execution from job 010
                                    running on <code class="code">myThing</code>.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot cancel-job-execution --job-id 010 --thing-name myThing</code></pre>
                                 <p>The command displays no output.</p>
                                 
                                 <p>A job execution that is in a <code class="code">QUEUED</code> state is canceled. A job
                                    execution that is in an <code class="code">IN_PROGRESS</code> state is canceled if you
                                    specify the optional <code class="code">--force</code> parameter. Job executions in a
                                    terminal state cannot be canceled. 
                                 </p>
                                 
                                 <div class="awsdocs-note awsdocs-warning">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Warning</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>When you cancel a job execution that is in the <code class="code">IN_PROGRESS</code>
                                          state, the device cannot update the job execution status. Use caution and
                                          ensure that the device can recover to a valid state.
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <p>If the job execution is in a terminal state or if the job execution is in an
                                    <code class="code">IN_PROGRESS</code> state and the <code class="code">--force</code> parameter is not
                                    set to <code class="code">true</code>, this command causes an
                                    <code class="code">InvalidStateTransitionException</code>.
                                 </p>
                                 
                                 <p>The status of a canceled job execution is eventually consistent. Changing the
                                    status of a job execution to <code class="code">CANCELED</code> might take some time,
                                    depending various factors.
                                 </p>
                                  
                                 
                                 <h2 id="delete-job">Delete a job</h2>
                                 
                                 <p>You use the <b>DeleteJob</b> command to delete a job and its job
                                    executions. By default, you can only delete a job that is in a terminal state
                                    (<code class="code">SUCCEEDED</code> or <code class="code">CANCELED</code>). Otherwise, an exception
                                    occurs. You can delete a job in the <code class="code">IN_PROGRESS</code> state if the
                                    <code class="code">force</code> parameter is set to <code class="code">true</code>.
                                 </p>
                                 
                                 <p>Run the following command to delete a job:</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot delete-job --job-id 010 --force|--no-force</code></pre>
                                 <p>The command displays no output.</p>
                                 
                                 <div class="awsdocs-note awsdocs-warning">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Warning</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>When you delete a job that is in the <code class="code">IN_PROGRESS</code> state, the
                                          device that is executing the job cannot access job information or update the
                                          job execution status. Use caution and make sure that each device executing a
                                          job that has been deleted can recover to a valid state.
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <p>It can take some time to delete a job, depending on the number of job
                                    executions created for the job and other factors. While the job is being
                                    deleted, <code class="code">DELETION_IN_PROGRESS</code> appears as the status of the job. An
                                    error results if you attempt to delete or cancel a job whose status is already
                                    <code class="code">DELETION_IN_PROGRESS</code>.
                                 </p>
                                 
                                 <p>Only 10 jobs can have a status of <code class="code">DELETION_IN_PROGRESS</code> at the
                                    same time. Otherwise, a <code class="code">LimitExceededException</code> occurs.
                                 </p>
                                  
                                 
                                 <h2 id="get-job-document">Get a job document</h2>
                                 
                                 <p>You use the <b>GetJobDocument</b> command to retrieve a job
                                    document for a job. A job document is a description of the remote operations to
                                    be performed by the devices.
                                 </p>
                                 
                                 <p>Run the following command to get a job document:</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot get-job-document --job-id 010</code></pre>
                                 <p>The command returns the job document for the specified job:</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
    "document": "<span>{</span>\n\t\"operation\":\"install\",\n\t\"url\":\"http://amazon.com/firmWareUpate-01\",\n\t\"data\":\"$<span>{</span>aws:iot:s3-presigned-url:https://s3.amazonaws.com/job-test-bucket/datafile}\"\n}"
}</code></pre>
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>When you use this command to retrieve a job document, placeholder URLs are
                                          not replaced by presigned Amazon S3 URLs. When a device calls the <a href="./jobs-mqtt-api.html#mqtt-getpendingjobexecutions">GetPendingJobExecutions</a> MQTT API, the placeholder URLs
                                          are replaced by presigned Amazon S3 URLs in the job document. 
                                       </p>
                                    </div>
                                 </div>
                                  
                                 
                                 <h2 id="list-jobs">List jobs</h2>
                                 
                                 <p>You use the <b>ListJobs</b> command to get a list of all jobs in
                                    your AWS account. Job data and job execution data are retained for a <a href="https://docs.aws.amazon.com/general/latest/gr/iot-core.html#job-limits">limited time</a>. Run
                                    the following command to list all jobs in your AWS account:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot list-jobs</code></pre>
                                 <p>The command returns all jobs in your account, sorted by the job status:</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
    "jobs": [
        <span>{</span>
            "status": "IN_PROGRESS", 
            "lastUpdatedAt": 1486687079.743, 
            "jobArn": "arn:aws:iot:us-east-1:123456789012:job/013", 
            "createdAt": 1486687079.743, 
            "targetSelection": "SNAPSHOT",
            "jobId": "013"
        }, 
        <span>{</span>
            "status": "SUCCEEDED", 
            "lastUpdatedAt": 1486685868.444, 
            "jobArn": "arn:aws:iot:us-east-1:123456789012:job/012", 
            "createdAt": 1486685868.444, 
            "completedAt": 148668789.690,
            "targetSelection": "SNAPSHOT",
            "jobId": "012"
        }, 
        <span>{</span>
            "status": "CANCELED", 
            "lastUpdatedAt": 1486678850.575, 
            "jobArn": "arn:aws:iot:us-east-1:123456789012:job/011", 
            "createdAt": 1486678850.575, 
            "targetSelection": "SNAPSHOT",
            "jobId": "011"
        }
    ]
}</code></pre>
                                  
                                 <h2 id="describe-job">Describe a job</h2>
                                 
                                 <p>Run the <b>DescribeJob</b> command to get the status of a job. The
                                    following command shows how to describe a job:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">$ aws iot describe-job --job-id 010</code></pre>
                                 <p>The command returns the status of the specified job. For example:</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
    "documentSource": "https://s3.amazonaws.com/job-test-bucket/job-document.json", 
    "job": <span>{</span>
        "status": "IN_PROGRESS", 
        "jobArn": "arn:aws:iot:us-east-1:123456789012:job/010", 
        "targets": [
            "arn:aws:iot:us-east-1:123456789012:thing/myThing"
        ], 
        "jobProcessDetails": <span>{</span>
            "numberOfCanceledThings": 0, 
            "numberOfFailedThings": 0,
            "numberOfInProgressThings": 0,
            "numberOfQueuedThings": 0,
            "numberOfRejectedThings": 0,
            "numberOfRemovedThings": 0,
            "numberOfSucceededThings": 0,
            "numberOfTimedOutThings": 0,
            "processingTargets": [
                arn:aws:iot:us-east-1:123456789012:thing/thingOne, 
                arn:aws:iot:us-east-1:123456789012:thinggroup/thinggroupOne, 
                arn:aws:iot:us-east-1:123456789012:thing/thingTwo, 
                arn:aws:iot:us-east-1:123456789012:thinggroup/thinggroupTwo 
            ]
        }, 
        "presignedUrlConfig": <span>{</span>
            "expiresInSec": 60, 
            "roleArn": "arn:aws:iam::123456789012:role/S3DownloadRole"
        }, 
        "jobId": "010", 
        "lastUpdatedAt": 1486593195.006, 
        "createdAt": 1486593195.006,
        "targetSelection": "SNAPSHOT",
        "jobExecutionsRolloutConfig": <span>{</span> 
            "exponentialRate": <span>{</span> 
                "baseRatePerMinute": integer,
                "incrementFactor": integer,
                "rateIncreaseCriteria": <span>{</span> 
                    "numberOfNotifiedThings": integer, // Set one or the other
                    "numberOfSucceededThings": integer // of these two values.
                },
            "maximumPerMinute": integer
         }
        },    
        "abortConfig": <span>{</span> 
            "criteriaList": [ 
                <span>{</span> 
                    "action": "string",
                    "failureType": "string",
                    "minNumberOfExecutedThings": integer,
                    "thresholdPercentage": integer
                }
            ]
        },
        "timeoutConfig": <span>{</span> 
           "inProgressTimeoutInMinutes": number
          }
    }
}</code></pre>
                                  
                                 <h2 id="list-job-executions-for-job">List executions for a job</h2>
                                 
                                 <p>A job running on a specific device is represented by a job execution object.
                                    Run the <b>ListJobExecutionsForJob</b> command to list all job
                                    executions for a job. The following shows how to list the executions for a
                                    job:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot list-job-executions-for-job --job-id 010</code></pre>
                                 <p>The command returns a list of job executions:</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
    "executionSummaries": [
    <span>{</span>
        "thingArn": "arn:aws:iot:us-east-1:123456789012:thing/thingOne", 
        "jobExecutionSummary": <span>{</span>
            "status": "QUEUED", 
            "lastUpdatedAt": 1486593196.378, 
            "queuedAt": 1486593196.378,
            "executionNumber": 1234567890
        }
    },
    <span>{</span>
        "thingArn": "arn:aws:iot:us-east-1:123456789012:thing/thingTwo", 
        "jobExecutionSummary": <span>{</span>
            "status": "IN_PROGRESS", 
            "lastUpdatedAt": 1486593345.659, 
            "queuedAt": 1486593196.378,
            "startedAt": 1486593345.659,
            "executionNumber": 4567890123
        }
    }
    ]
}</code></pre>
                                  
                                 <h2 id="list-job-executions-for-thing">List job executions for a
                                    thing
                                 </h2>
                                 
                                 <p>Run the <b>ListJobExecutionsForThing</b> command to list all job
                                    executions running on a thing. The following shows how to list job executions
                                    for a thing:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot list-job-executions-for-thing --thing-name thingOne</code></pre>
                                 <p>The command returns a list of job executions that are running or have run on
                                    the specified thing:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
    "executionSummaries": [
    <span>{</span>
        "jobExecutionSummary": <span>{</span>
            "status": "QUEUED", 
            "lastUpdatedAt": 1486687082.071, 
            "queuedAt": 1486687082.071,
            "executionNumber": 9876543210
        }, 
        "jobId": "013"
    }, 
    <span>{</span>
        "jobExecutionSummary": <span>{</span>
            "status": "IN_PROGRESS",
            "startAt": 1486685870.729, 
            "lastUpdatedAt": 1486685870.729, 
            "queuedAt": 1486685870.729,
            "executionNumber": 1357924680
        }, 
        "jobId": "012"
    }, 
    <span>{</span>
        "jobExecutionSummary": <span>{</span>
            "status": "SUCCEEDED", 
            "startAt": 1486678853.415,
            "lastUpdatedAt": 1486678853.415, 
            "queuedAt": 1486678853.415,
            "executionNumber": 4357680912
        }, 
        "jobId": "011"
    }, 
    <span>{</span>
        "jobExecutionSummary": <span>{</span>
            "status": "CANCELED",
            "startAt": 1486593196.378,
            "lastUpdatedAt": 1486593196.378, 
            "queuedAt": 1486593196.378,
            "executionNumber": 2143174250
        }, 
        "jobId": "010"
    }
    ]
}</code></pre>
                                  
                                 <h2 id="describe-job-execution">Describe job execution</h2>
                                 
                                 <p>Run the <b>DescribeJobExecution</b> command to get the status of a
                                    job execution. You must specify a job ID and thing name and, optionally, an
                                    execution number to identify the job execution. The following shows how to
                                    describe a job execution:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot describe-job-execution --job-id 017 --thing-name thingOne</code></pre>
                                 <p>The command returns the <a href="./jobs-control-plane-data-types.html#jobs-job-execution">JobExecution</a>. For example:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
    "execution": <span>{</span>
        "jobId": "017", 
        "executionNumber": 4516820379,
        "thingArn": "arn:aws:iot:us-east-1:123456789012:thing/thingOne", 
        "versionNumber": 123,
        "createdAt": 1489084805.285, 
        "lastUpdatedAt": 1489086279.937, 
        "startedAt": 1489086279.937, 
        "status": "IN_PROGRESS",
        "approximateSecondsBeforeTimedOut": 100,
        "statusDetails": <span>{</span>
            "status": "IN_PROGRESS", 
            "detailsMap": <span>{</span>
                "percentComplete": "10"
            }
        }
    }
}</code></pre>
                                  
                                 <h2 id="delete-job-execution">Delete job execution</h2>
                                 
                                 <p>Run the <b>DeleteJobExecution</b> command to delete a job
                                    execution. You must specify a job ID, a thing name, and an execution number to
                                    identify the job execution. The following shows how to delete a job
                                    execution:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iot delete-job-execution --job-id 017 --thing-name thingOne --execution-number 1234567890 --force|--no-force</code></pre>
                                 <p>The command displays no output.</p>
                                 
                                 <p>By default, the status of the job execution must be <code class="code">QUEUED</code> or in
                                    a terminal state (<code class="code">SUCCEEDED</code>, <code class="code">FAILED</code>,
                                    <code class="code">REJECTED</code>, <code class="code">TIMED_OUT</code>, <code class="code">REMOVED</code> or
                                    <code class="code">CANCELED</code>). Otherwise, an error occurs. To delete a job
                                    execution with a status of <code class="code">IN_PROGRESS</code>, you can set the
                                    <code class="code">force</code> parameter to <code class="code">true</code>.
                                 </p>
                                 
                                 <div class="awsdocs-note awsdocs-warning">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Warning</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>When you delete a job execution with a status of <code class="code">IN_PROGRESS</code>,
                                          the device that is executing the job cannot access job information or update
                                          the job execution status. Use caution and make sure that the device can
                                          recover to a valid state.
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="./manage-job-console.html">Creating and managing jobs (console)</div>
                                    <div id="next" class="next-link" accesskey="n" href="./job-templates.html">Job templates</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/manage-job-cli.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IoT Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/iot/latest/developerguide/manage-job-cli.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS IoT Core';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>
</html>